{
  "$schema": "https://opencode.ai/config.json",
  "providers": {
    "openrouter": {
      "provider": "openrouter",
      "apiKey": "{env:OPENROUTER_API_KEY}",
      "disabled": false
    },
    "zai-coding-plan": {
      "provider": "custom",
      "apiKey": "{env:Z_AI_API_KEY}",
      "disabled": false
    }
  },
  "agents": {
    "code-reviewer": {
      "model": "openrouter.qwen2.5-coder-7b-instruct",
      "maxTokens": 32768,
      "reasoningEffort": "medium",
      "temperature": 0.2
    },
    "clojure-meta-programmer": {
      "model": "openrouter.qwen2.5-coder-7b-instruct",
      "maxTokens": 32768,
      "reasoningEffort": "medium",
      "temperature": 0.2
    },
    "code-documenter": {
      "model": "openrouter.qwen3-8b",
      "maxTokens": 32768,
      "reasoningEffort": "medium",
      "temperature": 0.3
    },
    "board-task-reviewer": {
      "model": "openrouter.qwen3-8b",
      "maxTokens": 32768,
      "reasoningEffort": "medium",
      "temperature": 0.3
    },
    "system-architect": {
      "model": "openrouter.qwen3-14b",
      "maxTokens": 32768,
      "reasoningEffort": "high",
      "temperature": 0.2
    },
    "principal-architect": {
      "model": "openrouter.qwen3-14b",
      "maxTokens": 32768,
      "reasoningEffort": "high",
      "temperature": 0.2
    },
    "meta-agent": {
      "model": "openrouter.qwen3-14b",
      "maxTokens": 32768,
      "reasoningEffort": "high",
      "temperature": 0.2
    },
    "devsecops-engineer": {
      "model": "openrouter.deepseek-r1-distill-llama-70b",
      "maxTokens": 32768,
      "reasoningEffort": "high",
      "temperature": 0.1
    },
    "kanban-code-reviewer": {
      "model": "openrouter.deepseek-r1-distill-llama-70b",
      "maxTokens": 32768,
      "reasoningEffort": "high",
      "temperature": 0.1
    },
    "kanban-board-enforcer": {
      "model": "openrouter.qwen3-8b",
      "maxTokens": 32768,
      "reasoningEffort": "low",
      "temperature": 0.3
    },
    "ava-test-generator": {
      "model": "openrouter.qwen3-8b",
      "maxTokens": 32768,
      "reasoningEffort": "low",
      "temperature": 0.3
    }
  },
  "mcp": {
    "web-search-prime": {
      "type": "remote",
      "url": "https://api.z.ai/api/mcp/web_search_prime/mcp",
      "headers": {
        "Authorization": "Bearer {env:Z_AI_API_KEY}"
      },
      "enabled": true
    },
    "zai-mcp-server": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@z_ai/mcp-server"
      ],
      "environment": {
        "Z_AI_API_KEY": "{env:Z_AI_API_KEY}",
        "Z_AI_MODE": "ZAI"
      },
      "enabled": true
    },
    "playwright": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@playwright/mcp@latest"
      ],
      "enabled": true
    },
    "serena": {
      "type": "local",
      "command": [
        "uvx",
        "--from",
        "git+https://github.com/oraios/serena",
        "serena",
        "start-mcp-server"
      ],
      "enabled": true
    },
    "clojure-mcp": {
      "type": "local",
      "command": [
        "clojure",
        "-X:mcp"
      ],
      "environment": {
        "CLOJURE_MCP_PORT": "7888"
      },
      "enabled": true
    },
    "clj-kondo-mcp": {
      "type": "local",
      "command": [
        "npx",
        "clj-kondo-mcp"
      ],
      "enabled": true
    },
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp",
      "headers": {
        "CONTEXT7_API_KEY": "{env:CONTEXT7_API_KEY}"
      },
      "enabled": true
    },
    "gh_grep": {
      "type": "remote",
      "url": "https://mcp.grep.app"
    }
  },
  "lsp": {
    "clojure-lsp": {
      "command": [
        "clojure-lsp"
      ],
      "extensions": [
        ".clj",
        ".cljs",
        ".cljc",
        ".bb"
      ],
      "initialization": {
        "settings": {
          "clojure-lsp": {
            "additional-suffixes": [
              ".cljs",
              ".cljc",
              ".clj",
              ".bb"
            ],
            "source-paths": [
              "bb/src",
              "mk",
              "packages/*/src",
              "packages/*/src/cljs",
              "packages/*/src/main",
              "docs/agile/rules",
              "packages/clj-hacks/src",
              "packages/clj-hacks/verify.clj"
            ],
            "test-paths": [
              "packages/*/test",
              "bb/test",
              "packages/clj-hacks/test"
            ],
            "source-paths-ignore-regex": [
              "resources.*",
              "target.*",
              "node_modules.*",
              "dist.*",
              "build.*",
              "\\.direnv.*",
              "\\.venv.*",
              "\\.cache.*",
              "packages/*/dist.*",
              "packages/*/out.*",
              "\\.clj-kondo.*",
              "test-comprehensive.*",
              "test-kanban.*",
              "test-timestamp.*",
              "simple-test.*"
            ],
            "clj-kondo": {
              "config-dir": ".clj-kondo"
            },
            "project-specs": {
              "shadow-cljs": {
                "project-type": "shadow-cljs",
                "shadow-cljs-config": "shadow-cljs.edn"
              },
              "clj-hacks": {
                "project-type": "gradle",
                "root": "packages/clj-hacks",
                "source-paths": [
                  "src"
                ],
                "test-paths": [
                  "test"
                ]
              }
            }
          }
        }
      }
    }
  },
  "instructions": [
    "./docs/agents/opencode.md"
  ],
  "tools": {
    "webfetch": true,
    "web-search-prime": true,
    "playwright": true,
    "zai-mcp-server_analyze_image": true,
    "zai-mcp-server_analyze_video": true,
    "process_start": true,
    "process_stop": true,
    "process_err": true,
    "process_tail": true,
    "process_list": true,
    "process_status": true,
    "clojure-lsp": true,
    "clojure-mcp_clojure_eval": true,
    "clojure-mcp_clojure_edit": true,
    "clojure-mcp_read_file": true,
    "clojure-mcp_ls": true,
    "clojure-mcp_grep": true,
    "clojure-mcp_glob_files": true,
    "clj-kondo-mcp_lint_clojure": true,
    "ollama-queue_submitJob": true,
    "ollama-queue_getJobStatus": true,
    "ollama-queue_getJobResult": true,
    "ollama-queue_listJobs": true,
    "ollama-queue_cancelJob": true,
    "ollama-queue_listModels": true,
    "ollama-queue_getQueueInfo": true,
    "pm2_startProcess": true,
    "pm2_stopProcess": true,
    "pm2_restartProcess": true,
    "pm2_deleteProcess": true,
    "pm2_listProcesses": true,
    "pm2_showProcessInfo": true,
    "pm2_showLogs": true,
    "pm2_flushLogs": true,
    "pm2_reloadLogs": true,
    "pm2_monitor": true,
    "pm2_saveProcessList": true,
    "pm2_resurrectProcesses": true,
    "pm2_startup": true,
    "pm2_generateStartupScript": true,
    "pm2_getPM2Version": true,
    "pm2_resetMetadata": true,
    "pm2_describeProcess": true,
    "pm2_scaleProcess": true,
    "pm2_reloadProcess": true,
    "pm2_gracefulReload": true,
    "pm2_killPM2": true,
    "pm2_getPM2Status": true,
    "session-info": true
  }
}