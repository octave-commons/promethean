{
  "$schema": "https://opencode.ai/config.json",
  "providers": {
    "openrouter": {
      "provider": "openrouter",
      "apiKey": "{env:OPENROUTER_API_KEY}",
      "disabled": false
    }
  },
  "agents": {
    "junior-developer": {
      "model": "openrouter.qwen2.5-7b-instruct",
      "maxTokens": 16384,
      "reasoningEffort": "low",
      "temperature": 0.3,
      "tools": {
        "allowed": ["read", "write", "edit", "bash"],
        "default": "allow"
      }
    },
    "code-helper": {
      "model": "openrouter.qwen2.5-coder-7b-instruct",
      "maxTokens": 16384,
      "reasoningEffort": "medium",
      "temperature": 0.2,
      "tools": {
        "allowed": [
          "read",
          "write",
          "edit",
          "clojure-mcp_clojure_eval",
          "clojure-mcp_clojure_edit"
        ],
        "default": "allow"
      }
    },
    "documentation-writer": {
      "model": "openrouter.qwen3-8b",
      "maxTokens": 8192,
      "reasoningEffort": "low",
      "temperature": 0.4,
      "tools": {
        "allowed": ["read", "write", "edit", "webfetch"],
        "default": "allow"
      }
    },
    "test-helper": {
      "model": "openrouter.qwen2.5-7b-instruct",
      "maxTokens": 8192,
      "reasoningEffort": "low",
      "temperature": 0.3,
      "tools": {
        "allowed": ["read", "write", "edit", "bash"],
        "default": "allow"
      }
    },
    "debugger": {
      "model": "openrouter.qwen3-8b",
      "maxTokens": 8192,
      "reasoningEffort": "medium",
      "temperature": 0.1,
      "tools": {
        "allowed": ["read", "grep", "bash", "serena_search_for_pattern"],
        "default": "allow"
      }
    }
  },
  "mcp": {
    "clojure-mcp": {
      "type": "local",
      "command": ["clojure", "-X:mcp"],
      "environment": {
        "CLOJURE_MCP_PORT": "7888"
      },
      "enabled": true
    },
    "clj-kondo-mcp": {
      "type": "local",
      "command": ["npx", "clj-kondo-mcp"],
      "enabled": true
    },
    "gh_grep": {
      "type": "remote",
      "url": "https://mcp.grep.app"
    }
  },
  "lsp": {
    "clojure-lsp": {
      "command": ["clojure-lsp"],
      "extensions": [".clj", ".cljs", ".cljc", ".bb"],
      "initialization": {
        "settings": {
          "clojure-lsp": {
            "additional-suffixes": [".cljs", ".cljc", ".clj", ".bb"],
            "source-paths": [
              "bb/src",
              "mk",
              "packages/*/src",
              "packages/*/src/cljs",
              "packages/*/src/main"
            ],
            "test-paths": ["packages/*/test", "bb/test"],
            "clj-kondo": {
              "config-dir": ".clj-kondo"
            }
          }
        }
      }
    }
  },
  "instructions": ["./docs/agents/opencode.md"],
  "tools": {
    "read": true,
    "write": true,
    "edit": true,
    "bash": true,
    "clojure-mcp_clojure_eval": true,
    "clojure-mcp_clojure_edit": true,
    "clojure-mcp_read_file": true,
    "clojure-mcp_grep": true,
    "clojure-mcp_glob_files": true,
    "clj-kondo-mcp_lint_clojure": true,
    "session-info": true
  }
}
