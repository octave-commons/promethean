{:paths ["bb/src" "packages/clj-hacks/src" "packages/clj-hacks/test"]
 :deps {
  io.github.bonede/tree-sitter {:mvn/version "0.25.3"}
  io.github.bonede/tree-sitter-elisp {:mvn/version "1.3.0a"}
 }
 :tasks
 {;; Root tasks
  build            {:doc "Build JavaScript and TypeScript services" :task (mk.commands/build)}
  clean            {:doc "Clean JS/TS artifacts" :task (mk.commands/clean)}
  distclean        {:doc "git clean -fdX for ignored files" :task (mk.commands/distclean)}
  lint             {:doc "Lint JS/TS" :task (mk.commands/lint)}
  lint-topics      {:doc "Lint bridge topics" :task (mk.commands/lint-topics)}
  validate-elisp   {:doc "Validate Emacs Lisp layers" :task (mk.commands/validate-elisp)}
  test             {:doc "Run JS/TS tests" :task (mk.commands/test)}
  test-integration {:doc "Run JS integration tests" :task (mk.commands/test-integration)}
  test-e2e         {:doc "Run JS end-to-end tests" :task (mk.commands/test-e2e)}
  format           {:doc "Format JS/TS" :task (mk.commands/format-code)}
  coverage         {:doc "Coverage for JS/TS" :task (mk.commands/coverage)}
  setup            {:doc "Setup JS/TS services" :task (mk.commands/setup)}
  setup-quick      {:doc "Quick workspace setup" :task (mk.commands/setup-quick)}

  ;; Clojure packages
  clj-hacks:prepare {:doc "Download deps for clj-hacks" :requires ([clj-hacks.tasks]) :task clj-hacks.tasks/prepare!}
  clj-hacks:build   {:doc "Compile clj-hacks namespaces" :requires ([clj-hacks.tasks]) :task clj-hacks.tasks/build}
  clj-hacks:lint    {:doc "Run clj-kondo on clj-hacks" :requires ([clj-hacks.tasks]) :task clj-hacks.tasks/lint}
  clj-hacks:test    {:doc "Execute clj-hacks tests" :requires ([clj-hacks.tasks]) :task clj-hacks.tasks/test}

  ;; JS/TS
  lint-js-service           mk.node/lint-js-service
  lint-js                   mk.node/lint-js
  format-js                 mk.node/format-js
  setup-shared-js           mk.node/setup-shared-js
  setup-js-service          mk.node/setup-js-service
  setup-js                  mk.node/setup-js
  test-js-service           mk.node/test-js-service
  test-js-services          mk.node/test-js-services
  test-js                   mk.node/test-js
  coverage-js-service       mk.node/coverage-js-service
  coverage-js-services      mk.node/coverage-js-services
  coverage-js               mk.node/coverage-js
  clean-js                  mk.node/clean-js
  build-js                  mk.node/build-js
  lint-ts-service           mk.node/lint-ts-service
  lint-ts                   mk.node/lint-ts
  format-ts                 mk.node/format-ts
  setup-ts-service          mk.node/setup-ts-service
  setup-ts                  mk.node/setup-ts
  test-ts-service           mk.node/test-ts-service
  test-ts-services          mk.node/test-ts-services
  test-ts                   mk.node/test-ts
  coverage-ts-service       mk.node/coverage-ts-service
  coverage-ts-services      mk.node/coverage-ts-services
  coverage-ts               mk.node/coverage-ts
  clean-ts                  mk.node/clean-ts
  build-ts                  mk.node/build-ts
  ts-type-check             mk.node/ts-type-check
 }
}
