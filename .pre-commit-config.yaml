repos:
  - repo: https://github.com/pre-commit/mirrors-prettier
    rev: v3.1.0
    hooks:
      - id: prettier
        types_or: [javascript, ts, tsx, json, yaml]
        exclude: ^legacy/
        args: [--ignore-path=.prettierignore]
  - repo: local
    hooks:
      - id: submodule-branch-sync-commit
        name: Align submodule branches on commit (special branches)
        entry: bash scripts/git-hooks/submodule-branch-sync.sh commit
        language: system
        pass_filenames: false
        stages: [commit]
      - id: submodule-branch-sync-post-checkout
        name: Sync submodules after checkout (special branches)
        entry: bash scripts/git-hooks/submodule-branch-sync.sh post-checkout
        language: system
        pass_filenames: false
        stages: [post-checkout]
      - id: submodule-branch-sync-push
        name: Guard submodule state before push (special branches)
        entry: bash scripts/git-hooks/submodule-branch-sync.sh push
        language: system
        pass_filenames: false
        stages: [push]
