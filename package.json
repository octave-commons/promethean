{
  "type": "module",
  "packageManager": "pnpm@9.0.0",
  "name": "promethean",
  "scripts": {
    "generate_mcp_configs": "bb ./mk/mcp-compile.clj ./config/mcp_servers.edn ~/.codex/config.toml ~/.config/mcp/config.json ~/.config/Code/User/mcp.json",
    "preinstall": "node -e \"const ua = process.env.npm_config_user_agent || ''; if (!ua.includes('pnpm')) { console.error('\\nERROR: pnpm is required for this repo. npm/yarn are not supported and often fail with EACCES permission errors.\\nInstall via: corepack enable && corepack prepare pnpm@latest --activate\\nThen re-run: pnpm install\\n'); process.exit(1); }\"",
    "test": "pnpm run test:unit",
    "test:unit": "pnpm -r run build && ava --config ./config/ava.config.mjs \"services/**/dist/**/*.test.js\" \"services/**/dist/**/tests/**/*.js\" \"packages/**/dist/**/*.test.js\" \"packages/**/dist/**/test/**/*.js\" \"packages/**/dist/**/tests/**/*.js\" \"shared/**/dist/**/*.test.js\" \"shared/**/dist/**/tests/**/*.js\" \"templates/**/dist/**/test/**/*.js\" \"templates/**/dist/**/tests/**/*.js\" \"services/**/tests/**/*.js\" \"packages/**/tests/**/*.js\" \"shared/**/tests/**/*.js\" \"templates/**/tests/**/*.js\" \"tests/**/*.js\" \"!**/*integration*.*\" \"!**/*e2e*.*\" \"!**/integration/**\" \"!**/e2e/**\" \"!**/system/**\"",
    "test:integration": "pnpm -r run build && ava --config ./config/ava.config.mjs \"services/**/dist/**/*integration*.js\" \"services/**/dist/**/integration/**/*.js\" \"packages/**/dist/**/*integration*.js\" \"packages/**/dist/**/integration/**/*.js\" \"shared/**/dist/**/*integration*.js\" \"shared/**/dist/**/integration/**/*.js\" \"templates/**/dist/**/*integration*.js\" \"templates/**/dist/**/integration/**/*.js\" \"services/**/tests/**/*integration*.js\" \"services/**/tests/**/integration/**/*.js\" \"packages/**/tests/**/*integration*.js\" \"packages/**/tests/**/integration/**/*.js\" \"shared/**/tests/**/*integration*.js\" \"shared/**/tests/**/integration/**/*.js\" \"templates/**/tests/**/*integration*.js\" \"templates/**/tests/**/integration/**/*.js\" \"tests/**/*integration*.js\" \"tests/**/integration/**/*.js\"",
    "test:e2e": "pnpm -r run build && ava --config ./config/ava.config.mjs \"services/**/dist/**/*e2e*.js\" \"services/**/dist/**/e2e/**/*.js\" \"services/**/dist/**/system/**/*.js\" \"packages/**/dist/**/*e2e*.js\" \"packages/**/dist/**/e2e/**/*.js\" \"packages/**/dist/**/system/**/*.js\" \"shared/**/dist/**/*e2e*.js\" \"shared/**/dist/**/e2e/**/*.js\" \"shared/**/dist/**/system/**/*.js\" \"templates/**/dist/**/*e2e*.js\" \"templates/**/dist/**/e2e/**/*.js\" \"templates/**/dist/**/system/**/*.js\" \"services/**/tests/**/*e2e*.js\" \"services/**/tests/**/e2e/**/*.js\" \"services/**/tests/**/system/**/*.js\" \"packages/**/tests/**/*e2e*.js\" \"packages/**/tests/**/e2e/**/*.js\" \"packages/**/tests/**/system/**/*.js\" \"shared/**/tests/**/*e2e*.js\" \"shared/**/tests/**/e2e/**/*.js\" \"shared/**/tests/**/system/**/*.js\" \"templates/**/tests/**/*e2e*.js\" \"templates/**/tests/**/e2e/**/*.js\" \"templates/**/tests/**/system/**/*.js\" \"tests/**/*e2e*.js\" \"tests/**/e2e/**/*.js\" \"tests/**/system/**/*.js\"",
    "e2e": "pnpm run test:e2e",
    "coverage": "c8 --all --reporter=text --reporter=lcov ava --config ./config/ava.config.mjs \"services/**/dist/**/*.test.js\" \"packages/**/dist/**/*.test.js\" \"shared/**/dist/**/*.test.js\" \"tests/**/*.js\"",
    "build:docs": "node scripts/generate-service-docs.js",
    "health:node-abi": "node -p \"process.versions.node + ' ABI ' + process.versions.modules\"",
    "prepare": "chmod +x ./bin/promethean.js",
    "lint": "biome lint --config-path=biome.json .",
    "format": "biome format --config-path=biome.json --write ."
  },
  "bin": {
    "prom": "./bin/promethean.js"
  },
  "dependencies": {
    "@promethean/legacy": "workspace:*",
    "@shared/sibilant": "file:shared/sibilant",
    "@promethean/piper": "file:packages/piper",
    "@types/node": "^24.3.0",
    "adm-zip": "0.5.16",
    "dotenv": "17.2.1",
    "gray-matter": "^4.0.3",
    "http-proxy": "1.18.1",
    "mongodb": "6.18.0",
    "pm2": "6.0.8",
    "remark-parse": "^11.0.0",
    "unified": "^11.0.5",
    "unist-util-visit": "^5.0.0",
    "ws": "8.18.3",
    "yaml": "2.8.1",
    "zod": "3.25.76"
  },
  "devDependencies": {
    "@biomejs/biome": "^2.2.2",
    "@types/jest": "30.0.0",
    "@types/mongodb": "4.0.6",
    "@typescript-eslint/eslint-plugin": "8.39.0",
    "@typescript-eslint/parser": "8.39.0",
    "ava": "6.4.1",
    "c8": "10.1.3",
    "eslint": "9.33.0",
    "jest": "30.0.5",
    "puppeteer": "24.16.0",
    "ts-jest": "29.4.1",
    "ts-node": "10.9.2",
    "tsx": "4.20.3",
    "typescript": "5.9.2"
  },
  "license": "GPL-3.0-only",
  "volta": {
    "node": "20.19.4",
    "pnpm": "9.0.0"
  },
  "engines": {
    "node": ">=20.19.4"
  }
}
