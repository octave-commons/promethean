# Added @promethean/data-stores Package

Created a new centralized data store management package to provide unified access to dual store data used across multiple packages.

## Features Added

- **Centralized Store Management**: Created `@promethean/data-stores` package as a centralized sink and data source for dual store definitions
- **Functional Architecture**: Used factory functions and composable functions instead of classes (following functional programming principles)
- **Store Configurations**: Defined centralized configurations for:
  - OpenCode stores: sessionStore, eventStore, messageStore
  - File system stores: fileIndexStore
- **Type Safety**: Strongly typed interfaces for all store operations and entries
- **Cross-Store Search**: Ability to search across all stores simultaneously or specific stores
- **Unified Context**: Single ContextStore instance managing all collections

## Package Structure

```
packages/data-stores/
├── src/
│   ├── types.ts              # Type definitions and interfaces
│   ├── store-configs.ts      # Store configurations and constants
│   ├── data-store-manager.ts  # Functional data store manager
│   ├── index.ts              # Main exports
│   └── tests/
│       └── data-store-manager.test.ts
├── package.json
├── tsconfig.json
├── ava.config.mjs
└── README.md
```

## Key Functions

- `createDataStoreManager()`: Create a new data store manager instance
- `getDataStoreManager()`: Get global singleton instance
- `resetGlobalDataStoreManager()`: Reset global instance (for testing)
- Store access: `getStore()`, `getStoreNames()`
- Search functions: `searchAcrossAllStores()`, `searchInStores()`
- Latest documents: `getLatestFromAllStores()`, `getLatestFromStores()`

## Benefits

- **No API Exposure**: Packages can share data without exposing APIs
- **Centralized Configuration**: Single place to define store schemas
- **Type Safety**: Strong typing for all operations
- **Functional Design**: Composable, testable, and maintainable
- **Cross-Package Compatibility**: Works with existing @promethean/opencode-client and @promethean/file-system/file-indexer-service

## Next Steps

- Update existing packages to use the new data-stores package
- Replace direct ContextStore usage with centralized data store manager
- Ensure backward compatibility during migration
