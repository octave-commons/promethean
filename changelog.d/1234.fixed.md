Ensure vision service can shut down cleanly by exposing a stop function and updating tests.
