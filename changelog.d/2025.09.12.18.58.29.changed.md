- refactor llm service types and logging
