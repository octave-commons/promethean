{
    "openapi": "3.1.0",
    "info": {
        "title": "Promethean SmartGPT Bridge",
        "version": "1.1.0"
    },
    "servers": [{ "url": "/v1" }],
    "components": {
        "securitySchemes": {
            "apiKey": {
                "type": "apiKey",
                "name": "x-pi-token",
                "in": "header"
            }
        }
    },
    "security": [{ "apiKey": [] }],
    "paths": {
        "/files": {
            "get": { "summary": "List files", "responses": { "200": { "description": "OK" } } }
        },
        "/files/{path}": {
            "get": { "summary": "View file", "responses": { "200": { "description": "OK" } } }
        },
        "/files/reindex": {
            "post": { "summary": "Reindex files", "responses": { "200": { "description": "OK" } } }
        },
        "/search/code": {
            "post": { "summary": "Grep code", "responses": { "200": { "description": "OK" } } }
        },
        "/search/semantic": {
            "post": {
                "summary": "Semantic search",
                "responses": { "200": { "description": "OK" } }
            }
        },
        "/search/web": {
            "post": { "summary": "Web search", "responses": { "200": { "description": "OK" } } }
        },
        "/symbols/index": {
            "post": { "summary": "Index symbols", "responses": { "200": { "description": "OK" } } }
        },
        "/symbols/find": {
            "post": { "summary": "Find symbols", "responses": { "200": { "description": "OK" } } }
        },
        "/indexer": {
            "get": { "summary": "Indexer status", "responses": { "200": { "description": "OK" } } },
            "post": { "summary": "Indexer op", "responses": { "200": { "description": "OK" } } }
        },
        "/agents": {
            "get": { "summary": "List agents", "responses": { "200": { "description": "OK" } } },
            "post": { "summary": "Start agent", "responses": { "200": { "description": "OK" } } }
        },
        "/agents/{id}": {
            "get": { "summary": "Agent status", "responses": { "200": { "description": "OK" } } },
            "post": { "summary": "Agent control", "responses": { "200": { "description": "OK" } } }
        },
        "/agents/{id}/logs": {
            "get": { "summary": "Agent logs", "responses": { "200": { "description": "OK" } } }
        },
        "/agents/{id}/stream": {
            "get": { "summary": "Stream logs", "responses": { "200": { "description": "OK" } } }
        },
        "/exec": {
            "post": { "summary": "Run command", "responses": { "200": { "description": "OK" } } }
        },
        "/sinks": {
            "get": { "summary": "List sinks", "responses": { "200": { "description": "OK" } } }
        },
        "/sinks/{name}": {
            "post": { "summary": "Sink op", "responses": { "200": { "description": "OK" } } }
        },
        "/admin/users": {
            "get": { "summary": "List users", "responses": { "200": { "description": "OK" } } },
            "post": { "summary": "Create user", "responses": { "200": { "description": "OK" } } }
        },
        "/admin/users/{username}": {
            "delete": { "summary": "Delete user", "responses": { "200": { "description": "OK" } } }
        },
        "/admin/policies": {
            "get": { "summary": "List policies", "responses": { "200": { "description": "OK" } } },
            "post": { "summary": "Create policy", "responses": { "200": { "description": "OK" } } }
        },
        "/admin/policies/{id}": {
            "delete": {
                "summary": "Delete policy",
                "responses": { "200": { "description": "OK" } }
            }
        }
    }
}
