# Build fix benchmark updates
- [ ] all benchmarks should run model by model not fixture by fixture. This should be the default  mode.
- [ ] build fix is decoupled from piper
  - [ ] a `src/cli.ts` is created with sub commands 
    - [ ] `file broken.ts -o fixed.ts ` (default fix in place)
    - [ ] `folder ./src -o ./fixed-src `
    - [ ] all sub commands accept these flags:
      - [ ] `--models, -m qwen3:8b,gpt-oss:20b,gpt-oss:120b` a comma seperated list of models to try in order
      - [ ] `--max-attempts=5` maximum number of times it will try to run each model to fix it
      - [ ] `--prompt="some extra context"` a prompt to provide the model with additional context
      - [ ] `--system="sytem prompt"` a system prompt to provide extra instructions
      - [ ] `--ts-config ./tsconfig.json`
      - [ ] `--accept-first=true` defaults to true, accept the first correct result to save resources
      - [ ] `--report` output fixed file to stdio in a markdown formatted report instead of in place,
        - [ ] with the diffs for all attempts 
        - [ ] rationale
        - [ ] number of attempts
- [ ] `./dist/cli.js` is set to the package.json `bin` field `pnpm buildfix <sub-command>` (if made a dependency of the workspace package file)
- [ ] original interface remains intact so it may still be used by piper without changing the pipeline config file 
- [ ] There should be a simple to use command `pnpm create-mutaant <source-folder> <target-folder> --min-mutants=100 --error-codes ./list-of-ts-error-codes.json  --min-instances=5`
  - [ ] source folder is a typescript package with a tsconfig file
  - [ ] copy source folder to target
  - [ ] using ts morph and a seed, randomly mutate typescript files in `target-folder` until
    - [ ] there are at least `min-mutants` of type errors
    - [ ] there are at least `min-instances` of each error code in `error-codes`
