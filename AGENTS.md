# Promethean

Stealing fire from the gods to grant man the gift of knowledge and wisdom.
Using cloud LLMs to make local LLMs smarter and more specialized.


## Initiation sequence

On every request:
-  context7 to grab docs related documentation to the task you were given
- github grep to understand the implementation of the packages you will be using
- web search to find guides and related information
- `pnpm kanban search "task keywords"` to find tasks related to the request
- `git logs`  and search Opencode session message history to understand the events leading up to your task
- `pm2 status` to discover existing process related to your task
- `pnpm kanban process`

---

## üìÇ Repository Structure

```
scripts/ # Build, test, deploy automation (depreciated)
packages/ # JS/TS modules
tests/ # Unit and integration test suites
docs/ # System-level documentation and markdown exports
sites/ # Frontend code for dashboards and chat UIs (depreciated)
configs/ # All base config files live here
pseudo/ # one off scripts retained for transparency, and pseudo code.

```
## Anatomy of a Package

```
./src # All source code goes here
./src/tests # Tests go here
./tsconfig.json # Extends "../../config/tsconfig.base.json"
./ava.config.mjs # Extends "../../config/ava.config.mjs"
./package.json # Has, or should have 'build', 'test', 'clean', 'coverage',
'typecheck' etc. scripts
pseudo/ # one off scripts, retained for transparency
```
## Programming languages

- Typescript
- Clojure(script)

## Programming style

- Functional
- data oriented
- test driven development
- rapid prototyping
- small concise functions and files
- clean code
- factory pattern
- dependency injection

## PM2 Service management
- `om2 start `

## üìã Kanban Task Management

All agents must use the kanban system for task tracking and work management.
The kanban board lives at `docs/agile/boards/generated.md` and is managed
via the `@promethean/kanban` package.


### üìç Working with Kanban


- `pnpm kanban --help`
- `pnpm kanban process` explains how we work
- `pnpm kanban audit` checks the board for inconsistencies and illegal actions
- `pnpm kanban update-status <uuid> <column>` 
- `pnpm kanban regenerate`
- `pnpm kanban search <query>`
- `pnpm kanban count`

1. `pnpm kanban search <work-type>` ‚Üí find relevant tasks
2. `pnpm kanban update-status <uuid> in_progress`
3. `pnpm kanban update-status <uuid> done`
4. `pnpm kanban regenerate`

### üìÅ Task File Locations

- Tasks live in: `docs/agile/tasks/*.md`
- Generated board: `docs/agile/boards/generated.md`
- Config file: `promethean.kanban.json`
- CLI reference: `docs/agile/kanban-cli-reference.md`

### üìö Further Documentation

- **Complete Kanban CLI Reference**: `docs/agile/kanban-cli-reference.md`
- **Process Documentation**: `docs/agile/process.md`
- **FSM Rules**: `docs/agile/rules/kanban-transitions.clj`


### Example package local commands

Prefer local, well scoped commands to workspace scripts.

`pnpm --filter @promethean/<packge-name> test`
`pnpm --filter @promethean/<packge-name> test:unit`
`pnpm --filter @promethean/<packge-name> test:integration`
`pnpm --filter @promethean/<packge-name> test:e2e`
`pnpm --filter @promethean/<packge-name> clean`
`pnpm --filter @promethean/<packge-name> lint`
`pnpm --filter @promethean/<packge-name> build`
`pnpm --filter @promethean/<packge-name> typecheck`
`pnpm --filter @promethean/<packge-name> start`
`pnpm --filter @promethean/<packge-name> exec node ./psudo/temp-script.js`
`cd packages/path/to && node ./dist/index.js`

---



### Notes
 It is a large repo, and bash command commands are always ran from the package root
`cd` bash commands are *always* ran from the package root.
- put temporary scripts in a `pseudo/` folder, retain them so the steps you take can be validated
  - psuedo is never to be referenced inside of a package
  - pseudo is pseudocode, I don't know if it works, but it communciated an intent
- put markdown files in `docs/`
- you are in a repository where file changes automaticly trigger a commit to be made with a message generated by an llm
  - you don't need to commit your work
  - you don't need to make backups
- documentation should be obsidian friendly markdown
  - use [[wikilinks]]
  - make use of dataviews https://blacksmithgu.github.io/obsidian-dataview/
  Be careful!
- Update the [[HOME]] file with important information, treat it as a living document
- manage processes with pm2

## Licensing
All packages "license": "GPL-3.0-only"
