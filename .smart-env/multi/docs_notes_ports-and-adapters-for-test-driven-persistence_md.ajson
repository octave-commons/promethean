
"smart_sources:docs/notes/ports-and-adapters-for-test-driven-persistence.md": {"path":"docs/notes/ports-and-adapters-for-test-driven-persistence.md","last_embed":{"hash":null},"embeddings":{},"last_read":{"hash":"ina69k","at":1762869253791},"class_name":"SmartSource","last_import":{"mtime":1762546647582,"size":10245,"at":1762869254516,"hash":"ina69k"},"blocks":{"#---frontmatter---":[1,34],"#":[35,45],"##{1}":[37,37],"##{2}":[38,38],"##{3}":[39,39],"##{4}":[40,45],"#1) Define ports (what your core needs)":[46,66],"#1) Define ports (what your core needs)#{1}":[48,66],"#2) Adapters Mongo / Chroma — thin, replaceable":[67,107],"#2) Adapters Mongo / Chroma — thin, replaceable#{1}":[69,107],"#3) Composition root (prod wiring only)":[108,141],"#3) Composition root (prod wiring only)#{1}":[110,141],"#4) Business logic stays pure(ish)":[142,158],"#4) Business logic stays pure(ish)#{1}":[144,158],"#5) Unit tests: mock your **ports**, not Mongo/Chroma":[159,191],"#5) Unit tests: mock your **ports**, not Mongo/Chroma#{1}":[161,191],"#6) Module-boundary mocking (when you really want it)":[192,228],"#6) Module-boundary mocking (when you really want it)#{1}":[194,228],"#7) Integration tests: use real services in containers":[229,296],"#7) Integration tests: use real services in containers#{1}":[231,269],"#7) Integration tests: use real services in containers#Why this is better than test hooks":[270,278],"#7) Integration tests: use real services in containers#Why this is better than test hooks#{1}":[272,272],"#7) Integration tests: use real services in containers#Why this is better than test hooks#{2}":[273,273],"#7) Integration tests: use real services in containers#Why this is better than test hooks#{3}":[274,274],"#7) Integration tests: use real services in containers#Why this is better than test hooks#{4}":[275,276],"#7) Integration tests: use real services in containers#Why this is better than test hooks#{5}":[277,278],"#7) Integration tests: use real services in containers#Migration plan incremental, low-risk":[279,290],"#7) Integration tests: use real services in containers#Migration plan incremental, low-risk#{1}":[281,281],"#7) Integration tests: use real services in containers#Migration plan incremental, low-risk#{2}":[282,282],"#7) Integration tests: use real services in containers#Migration plan incremental, low-risk#{3}":[283,283],"#7) Integration tests: use real services in containers#Migration plan incremental, low-risk#{4}":[284,284],"#7) Integration tests: use real services in containers#Migration plan incremental, low-risk#{5}":[285,286],"#7) Integration tests: use real services in containers#Migration plan incremental, low-risk#{6}":[287,290],"#7) Integration tests: use real services in containers#Related content":[291,292],"#7) Integration tests: use real services in containers#Related content#{1}":[292,292],"#7) Integration tests: use real services in containers#Sources":[293,296],"#7) Integration tests: use real services in containers#Sources#{1}":[294,294],"#7) Integration tests: use real services in containers#Sources#{2}":[295,296]},"outlinks":[],"task_lines":[]},