{
  "$schema": "https://opencode.ai/config.json",
  "provider": {
    "ollama": {
      "npm": "ollama-ai-provider-v2",
      "models":{
        "qwen3:8b": {
          "name": "Qwen3 8B",
          "options":{
            "think":true,
            "numx_ctx":40000
          }
        },
        "error/qwen3-codex": {
          "name": "Qwen3 Codex",
          "options":{
            "think":true
          }
        },
        "error/gpt-oss:20b-128k": {
          "name": "GPT-OSS 20B 128K",
          "options":{
            "think":true
          }
        },
        "qwen3:8b": {
          "name": "Qwen3 8B",
          "options":{
            "think":true
          }
        },
        "error/qwen3-codex": {
          "name": "Qwen3 Codex",
          "options":{
            "think":true
          }
        },
        "qwen3:14b": {
          "name": "Qwen3 14B",
          "options":{
            "think":true
          }
        },
        "qwen2.5:7b": {
          "name": "Qwen2.5 7B"
        },
        "qwen2.5-coder:7b": {
          "name": "Qwen2.5 Coder 7B"
        },
        "error/qwen2.5-codex": {
          "name": "Qwen2.5 Codex",
          "options":{
            "think":true
          }
        },
        "error/llama3.1-codex": {
          "name": "Llama3.1 Codex",
          "options":{
            "think":true
          }
        },
        "gpt-oss:120b-cloud": {
          "name": "GPT-OSS 120B (cloud)",
          "options":{
            "think":true
          }
        },
        "gpt-oss:20b-cloud": {
          "name": "GPT-OSS 20B (cloud)",
          "options":{
            "think":true
          }
        },
        "qwen3-coder:408b-cloud": {
          "name": "Qwen3 Coder 408B (cloud)",
          "options":{
            "think":true
          }
        },
        "kimi-k2:1t-cloud": {
          "name": "Kimi K2 1T (cloud)",
          "options":{
            "think":true
          }
        },
        "deepseek-v3.1:671b-cloud": {
          "name": "Deepseek v3.1 671B (cloud)",
          "options":{
            "think":true
          }
        }

      }
    },

    "zai-coding-plan": {
      "models":{

      "glm-4.6": {
        "options": {
          "thinking": {
            "type": "enabled"
          }
        }
      },
      "glm-4.5v": {
        "options": {
          "thinking": {
            "type": "enabled"
          }
        }
      }
    }
  }
  },
  "mcp": {
    "web-search-prime": {
      "type": "remote",
      "url": "https://api.z.ai/api/mcp/web_search_prime/mcp",
      "headers": {
        "Authorization": "Bearer {env:Z_AI_API_KEY}"
      },
      "enabled": true
    },
    "zai-mcp-server": {
      "type": "local",
      "command": ["npx", "-y", "@z_ai/mcp-server"],
      "environment": {
        "Z_AI_API_KEY": "{env:Z_AI_API_KEY}",
        "Z_AI_MODE": "ZAI"
      },
      "enabled": true
    },
    "playwright": {
      "type": "local",
      "command": ["npx", "-y", "@playwright/mcp@latest"],
      "enabled": true
    },
    "serena": {
      "type": "local",
      "command": [
        "uvx",
        "--from",
        "git+https://github.com/oraios/serena",
        "serena",
        "start-mcp-server"
      ],
      "enabled": true
    },
    "clojure-mcp": {
      "type": "local",
      "command": ["clojure", "-X:mcp"],
      "environment": {
        "CLOJURE_MCP_PORT": "7888"
      },
      "enabled": true
    },
    "clj-kondo-mcp": {
      "type": "local",
      "command": ["npx", "clj-kondo-mcp"],
      "enabled": true
    },
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp",
      "headers": {
        "CONTEXT7_API_KEY": "{env:CONTEXT7_API_KEY}"
      },
      "enabled": true
    },
    "gh_grep": {
      "type": "remote",
      "url": "https://mcp.grep.app"
    }
  },
  "lsp": {
    "clojure-lsp": {
      "command": ["clojure-lsp"],
      "extensions": [".clj", ".cljs", ".cljc", ".bb"],
      "initialization": {
        "settings": {
          "clojure-lsp": {
            "additional-suffixes": [".cljs", ".cljc", ".clj", ".bb"],
            "source-paths": [
              "bb/src",
              "mk",
              "packages/*/src",
              "packages/*/src/cljs",
              "packages/*/src/main",
              "docs/agile/rules",
              "packages/clj-hacks/src",
              "packages/clj-hacks/verify.clj"
            ],
            "test-paths": ["packages/*/test", "bb/test", "packages/clj-hacks/test"],
            "source-paths-ignore-regex": [
              "resources.*",
              "target.*",
              "node_modules.*",
              "dist.*",
              "build.*",
              "\\.direnv.*",
              "\\.venv.*",
              "\\.cache.*",
              "packages/*/dist.*",
              "packages/*/out.*",
              "\\.clj-kondo.*",
              "test-comprehensive.*",
              "test-kanban.*",
              "test-timestamp.*",
              "simple-test.*"
            ],
            "clj-kondo": {
              "config-dir": ".clj-kondo"
            },
            "project-specs": {
              "shadow-cljs": {
                "project-type": "shadow-cljs",
                "shadow-cljs-config": "shadow-cljs.edn"
              },
              "clj-hacks": {
                "project-type": "gradle",
                "root": "packages/clj-hacks",
                "source-paths": ["src"],
                "test-paths": ["test"]
              }
            }
          }
        }
      }
    }
  },
  "instructions": ["./docs/agents/opencode.md"],
  "tools": {
    "webfetch": true,
    "web-search-prime": true,
    "playwright": true,
    "zai-mcp-server_analyze_image": true,
    "zai-mcp-server_analyze_video": true,
    "process_start": true,
    "process_stop": true,
    "process_err": true,
    "process_tail": true,
    "process_list": true,
    "process_status": true,
    "clojure-lsp": true,
    "clojure-mcp_clojure_eval": true,
    "clojure-mcp_clojure_edit": true,
    "clojure-mcp_read_file": true,
    "clojure-mcp_ls": true,
    "clojure-mcp_grep": true,
    "clojure-mcp_glob_files": true,
    "clj-kondo-mcp_lint_clojure": true,
    "ollama-queue_submitJob": true,
    "ollama-queue_getJobStatus": true,
    "ollama-queue_getJobResult": true,
    "ollama-queue_listJobs": true,
    "ollama-queue_cancelJob": true,
    "ollama-queue_listModels": true,
    "ollama-queue_getQueueInfo": true,
    "pm2_startProcess": true,
    "pm2_stopProcess": true,
    "pm2_restartProcess": true,
    "pm2_deleteProcess": true,
    "pm2_listProcesses": true,
    "pm2_showProcessInfo": true,
    "pm2_showLogs": true,
    "pm2_flushLogs": true,
    "pm2_reloadLogs": true,
    "pm2_monitor": true,
    "pm2_saveProcessList": true,
    "pm2_resurrectProcesses": true,
    "pm2_startup": true,
    "pm2_generateStartupScript": true,
    "pm2_getPM2Version": true,
    "pm2_resetMetadata": true,
    "pm2_describeProcess": true,
    "pm2_scaleProcess": true,
    "pm2_reloadProcess": true,
    "pm2_gracefulReload": true,
    "pm2_killPM2": true,
    "pm2_getPM2Status": true,
    "session-info": true
  }
}
