{
  "$schema": "https://opencode.ai/config.json",
  "provider": {
    "ollama_openai": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Ollama OpenAI Compatible",
      "options": {
        "baseURL": "http://localhost:11434/v1"
      },
      "models": {
        "error/qwen3:4b-instruct-100k": {
          "name": "Qwen3 4B Instruct"
        }
      }
    },
    "ollama": {
      "npm": "ollama-ai-provider-v2",
      "models": {
        "qwen3:8b": {
          "name": "Qwen3 8B",
          "options": {
            "think": true,
            "num_ctx": 40000
          }
        },
        "qwen3:8b-instruct": {
          "name": "Qwen3 8B",
          "options": {
            "think": true,
            "num_ctx": 40000
          }
        },
        "qwen3:4b-instruct-2507-q4_K_M": {
          "name": "Qwen3 4B Instruct 25607 q4_K_M",
          "options": {
            "temperature": 0.1,
            "top_k": 1,
            "top_p": 0.1,
            "repeat_penalty": 1.1
          }
        },
        "qwen3:4b-instruct": {
          "name": "Qwen3 4B Instruct",
          "options": {
            "num_ctx": 100000,
            "temperature": 0.1,
            "top_k": 1,
            "top_p": 0.1,
            "repeat_penalty": 1.1
          }
        },
        "qwen3:4b-thinking": {
          "name": "Qwen3 4B thinking",
          "options": {
            "temperature": 0.1,
            "top_k": 1,
            "top_p": 0.1,
            "repeat_penalty": 1.1,
            "num_ctx": 120000
          }
        },
        "qwen3:4b": {
          "name": "Qwen3 4B",
          "options": {
            "think": false,
            "num_ctx": 120000
          }
        },
        "error/qwen3-codex": {
          "name": "Qwen3 Codex",
          "options": {
            "think": true
          }
        },
        "error/gpt-oss:20b-128k": {
          "name": "GPT-OSS 20B 128K",
          "options": {
            "think": true
          }
        },
        "qwen3:14b": {
          "name": "Qwen3 14B",
          "options": {
            "think": true
          }
        },
        "error/llama3.1-codex": {
          "name": "Llama3.1 Codex",
          "options": {
            "think": true
          }
        },
        "gpt-oss:120b-cloud": {
          "name": "GPT-OSS 120B (cloud)",
          "options": {
            "think": true
          }
        },
        "gpt-oss:20b-cloud": {
          "name": "GPT-OSS 20B (cloud)",
          "options": {
            "think": true
          }
        },
        "qwen3-coder:408b-cloud": {
          "name": "Qwen3 Coder 408B (cloud)",
          "options": {
            "think": true
          }
        },
        "kimi-k2:1t-cloud": {
          "name": "Kimi K2 1T (cloud)",
          "options": {
            "think": true
          }
        },
        "deepseek-v3.1:671b-cloud": {
          "name": "Deepseek v3.1 671B (cloud)",
          "options": {
            "think": true
          }
        }
      }
    },
    "zai-coding-plan": {
      "models": {
        "glm-4.6": {
          "options": {
            "thinking": {
              "type": "enabled"
            }
          }
        },

        "glm-4.5": {
          "options": {
            "thinking": {
              "type": "enabled"
            }
          }
        },
        "glm-4.5v": {
          "options": {
            "thinking": {
              "type": "enabled"
            }
          }
        }
      }
    }
  },
  "mcp": {
    "web-search-prime": {
      "type": "remote",
      "url": "https://api.z.ai/api/mcp/web_search_prime/mcp",
      "headers": {
        "Authorization": "Bearer {env:Z_AI_API_KEY}"
      },
      "enabled": true
    },
    "zai-mcp-server": {
      "type": "local",
      "command": ["npx", "-y", "@z_ai/mcp-server"],
      "environment": {
        "Z_AI_API_KEY": "{env:Z_AI_API_KEY}",
        "Z_AI_MODE": "ZAI"
      },
      "enabled": true
    },
    "playwright": {
      "type": "remote",
      "url": "http://localhost:8931",
      "enabled": true
    },
    "chrome-devtools":{"type":"local","command":["npx", "-y", "chrome-devtools-mcp@latest"]},
    "serena": {
      "type": "local",
      "command": [
        "uvx",
        "--from",
        "git+https://github.com/oraios/serena",
        "serena",
        "start-mcp-server"
      ],
      "enabled": true
    },
    "clj": {
      "type": "local",
      "command": ["clojure", "-X:mcp"],
      "environment": {
        "CLOJURE_MCP_PORT": "7888"
      },
      "enabled": true
    },
    "clj-kondo": {
      "type": "local",
      "command": ["npx", "clj-kondo-mcp"],
      "enabled": true
    },
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp",
      "headers": {
        "CONTEXT7_API_KEY": "{env:CONTEXT7_API_KEY}"
      },
      "enabled": true
    },
    "gh_grep": {
      "type": "remote",
      "url": "https://mcp.grep.app",
      "enabled": true
    }
  },
  "lsp": {
    "clojure-lsp": {
      "command": ["clojure-lsp"],
      "extensions": [".clj", ".cljs", ".cljc", ".bb"]
    }
  },
  "instructions": ["./docs/agents/platforms/opencode/AGENTS.md"],
  "permission": {
    "bash":{
      "ls*":"allow",
      "pnpm build *":"ask",
      "pnpm test *":"ask",
      "node *":"ask",
      "uvx *":"ask",
      "npx *":"ask",
      "kill *":"deny",
      "pkill *":"deny",
      "pm2 logs":"deny",
      "rm *":"ask",
      "bash *":"ask",
      "unlink *":"ask",
      "rmdir *":"ask",
      "mv *":"ask",
      "cp *":"ask",
      "git *":"ask",
      "git status*":"allow",
      "git log*":"allow",
      "git commit*":"allow",
      "pnpm kanban*":"deny"
    }
  },
  "tools": {
    "clj*": false,
    "playwright*":false,
    "processDirect.*":false,
    "events.*":false,
    "messaging.*":false,
    "messages.*":false,
    "ollama.*":false,
    "cache.*":false,
    "sessions.*": false
  }
}
