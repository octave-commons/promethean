---
nexus: nexus-ai-chat-importer
plugin_version: "1.2.0"
provider: chatgpt
aliases: "New chat"
conversation_id: 1965379b-4b91-4f79-9100-7cc804594a23
create_time: 04/29/2023 at 8:46 AM
update_time: 04/29/2023 at 8:46 AM
---

# Title: New chat

Created: 04/29/2023 at 8:46 AM
Last Updated: 04/29/2023 at 8:46 AM
Chat URL: https://chat.openai.com/c/1965379b-4b91-4f79-9100-7cc804594a23


>[!nexus_user] **User** - 04/29/2023 at 8:46 AM
> I want a macro in Sibilant Lisp that generates HTML.
<!-- UID: aaa2f67f-f74b-4317-b6f3-608974cf609e -->




>[!nexus_agent] **Assistant** - 04/29/2023 at 8:46 AM
> In Sibilant Lisp, you can create a macro to generate HTML by defining a macro that takes a tag name, attributes, and content, and then outputs an HTML string. Here's an example of a simple HTML macro:
> 
> ```lisp
> (defmacro html-tag (tag &optional attrs &body content)
>  (let (attr-string)
>  (setf attr-string
>  (if attrs
>  (reduce (lambda (acc kv)
>  (let ((key (car kv))
>  (value (cadr kv)))
>  (concat acc " " (symbol->string key) "=\"" value "\"")))
>  attrs
>  :initial-value "")
>  ""))
>  `(concat "<" ,(symbol->string tag) ,attr-string ">"
>  ,@(map
<!-- UID: 9096ee23-fdc8-479f-8f3b-c62787f1d722 -->

---




>[!nexus_agent] **Assistant** - 04/29/2023 at 8:47 AM
> Sibilant Lisp is a Lisp dialect that compiles to JavaScript. In order to create a macro that generates HTML in Sibilant Lisp, you can use the following example:
> 
> ```lisp
> (sibilant-macro
>  html-element [tag attrs & body]
>  (let [attr-string (join " " (map (lambda (k v) (str (symbol k) "=\"" v "\"")) (keys attrs) (values attrs)))]
>  (cons
>  (str "<" tag attr-string ">")
>  (cons (join " " (map (lambda (el) (if (string? el) el (apply html-element el))) body))
>  (str "</" tag ">")))))
> 
> (sibilant-macro
>  html [& body]
>  `(apply join (map (lambda (el) (if (string? el) el (apply html-element el))) ,@body)))
> 
> ; Usage
> (def generated-html
<!-- UID: e3d7ff55-29be-433c-b86e-7d91c1fb8bab -->

---


