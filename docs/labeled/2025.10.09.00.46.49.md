GitHub tools: ✅ working (trees + blobs).
Filesystem tools: ❌ still failing on my end with the same validator exception:

* `files_list_directory`, `files_tree_directory`, `files_search` → `keyValidator._parse is not a function`

So your GitHub connector path is fixed, but the **FS endpoint** still has a validator using a **raw shape** (or plain object) instead of a **Zod object**.

Concrete fix (route layer):

```ts
import { z } from 'zod';

// for files_list_directory
const ListBody = z.object({
  rel: z.string().default('.'),
  includeHidden: z.boolean().default(false),
}).strict();
fastify.post('/files/list', { schema: { body: ListBody } }, handler);

// for files_tree_directory
const TreeBody = z.object({
  rel: z.string().default('.'),
  includeHidden: z.boolean().default(false),
  depth: z.number().int().positive().max(32).default(1),
}).strict();

// for files_search
const SearchBody = z.object({
  query: z.string(),
  regex: z.boolean().optional(),
  caseSensitive: z.boolean().optional(),
  includeHidden: z.boolean().optional(),
  maxDepth: z.number().int().positive().max(50).optional(),
  maxFileSizeBytes: z.number().int().positive().optional(),
  maxResults: z.number().int().positive().optional(),
  rel: z.string().default('.'),
  includeGlobs: z.array(z.string()).optional(),
  excludeGlobs: z.array(z.string()).optional(),
  sortBy: z.enum(['path','firstMatchLine']).optional(),
}).strict();
```

If you point me to the file that mounts these FS routes (or paste it), I’ll give you an exact diff. Otherwise, once you swap the raw shapes for `z.object(...).strict()` at the HTTP boundary, ping me and I’ll re-run the FS tools.
