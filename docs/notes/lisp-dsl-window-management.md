---
```
uuid: 59a33ebc-023f-4d1c-b460-5578de566628
```
created_at: lisp-dsl-for-window-management.md
filename: lisp-dsl-window-management
title: lisp-dsl-window-management
```
description: >-
```
  A minimal, homoiconic Lisp-style DSL for defining window management behaviors
  including hotkeys, group operations, workspace definitions, layouts, and
  external command integrations. The DSL aims to be interpretable by Hy,
  Sibilant, or custom runtimes with S-expression structures.
tags:
  - lisp
  - window-management
  - dsl
  - homoiconic
  - hotkeys
  - grouping
  - workspaces
  - layouts
  - external-commands
```
related_to_uuid:
```
  - 2792d448-c3b5-4050-93dd-93768529d99c
  - 1f32c94a-4da4-4266-8ac0-6c282cfb401f
  - 22b989d5-f4aa-4880-8632-709c21830f83
  - e9b27b06-f608-4734-ae6c-f03a8b1fcf5f
  - fc21f824-4244-4030-a48e-c4170160ea1d
  - a4a25141-6380-40b9-9cd7-b554b246b303
  - 6620e2f2-de6d-45d8-a722-5d26e160b370
  - dd00677a-2280-45a7-91af-0728b21af3ad
  - 5e408692-0e74-400e-a617-84247c7353ad
  - 291c7d91-da8c-486c-9bc0-bd2254536e2d
  - dd89372d-10de-42a9-8c96-6bc13ea36d02
  - 64a9f9f9-58ee-4996-bdaf-9373845c6b29
  - ad7f1ed3-c9bf-4e85-9eeb-6cc4b53155f3
  - ba244286-4e84-425b-8bf6-b80c4eb783fc
  - 0f6f8f38-98d0-438f-9601-58f478acc0b7
  - c5c9a5c6-427d-4864-8084-c083cd55faa0
  - bc5172ca-7a09-42ad-b418-8e42bb14d089
  - 5f210ca2-54e9-445b-afe4-fb340d4992c5
  - 2c2b48ca-1476-47fb-8ad4-69d2588a6c84
  - 7bed0b9a-8b22-4b1f-be81-054a179453cb
  - 0f1f8cc1-b5a6-4307-a40d-78de3adafca2
  - c34c36a6-80c9-4b44-a200-6448543b1b33
  - e1056831-ae0c-460b-95fa-4cf09b3398c6
  - babdb9eb-3b15-48a7-8a22-ecc53af7d397
  - 534fe91d-e87d-4cc7-b0e7-8b6833353d9b
```
related_to_title:
```
  - Docops Feature Updates
  - field-node-diagram-outline
  - field-node-diagram-set
  - field-node-diagram-visualizations
  - Fnord Tracer Protocol
  - Functional Embedding Pipeline Refactor
  - graph-ds
  - heartbeat-fragment-demo
  - i3-bluetooth-setup
  - Ice Box Reorganization
  - komorebi-group-window-hack
  - Layer1SurvivabilityEnvelope
  - Local-Offline-Model-Deployment-Strategy
  - System Scheduler with Resource-Aware DAG
  - windows-tiling-with-autohotkey
  - sibilant-macro-targets
  - prom ui bootstrap
  - Cross-Target Macro System in Sibilant
  - Promethean Full-Stack Docker Setup
  - polymorphic-meta-programming-engine
  - AI-Centric OS with MCP Layer
  - Cross-Language Runtime Polymorphism
  - RAG UI Panel with Qdrant and PostgREST
  - Recursive Prompt Construction Engine
  - Event Bus MVP
references:
  - uuid: 2792d448-c3b5-4050-93dd-93768529d99c
    line: 226
    col: 0
    score: 1
  - uuid: 1f32c94a-4da4-4266-8ac0-6c282cfb401f
    line: 705
    col: 0
    score: 1
  - uuid: 22b989d5-f4aa-4880-8632-709c21830f83
    line: 719
    col: 0
    score: 1
  - uuid: e9b27b06-f608-4734-ae6c-f03a8b1fcf5f
    line: 601
    col: 0
    score: 1
  - uuid: fc21f824-4244-4030-a48e-c4170160ea1d
    line: 1060
    col: 0
    score: 1
  - uuid: a4a25141-6380-40b9-9cd7-b554b246b303
    line: 726
    col: 0
    score: 1
  - uuid: 6620e2f2-de6d-45d8-a722-5d26e160b370
    line: 996
    col: 0
    score: 1
  - uuid: dd00677a-2280-45a7-91af-0728b21af3ad
    line: 667
    col: 0
    score: 1
  - uuid: 5e408692-0e74-400e-a617-84247c7353ad
    line: 736
    col: 0
    score: 1
  - uuid: 291c7d91-da8c-486c-9bc0-bd2254536e2d
    line: 645
    col: 0
    score: 1
  - uuid: dd89372d-10de-42a9-8c96-6bc13ea36d02
    line: 739
    col: 0
    score: 1
  - uuid: 64a9f9f9-58ee-4996-bdaf-9373845c6b29
    line: 816
    col: 0
    score: 1
  - uuid: ad7f1ed3-c9bf-4e85-9eeb-6cc4b53155f3
    line: 232
    col: 0
    score: 0.93
  - uuid: 5f210ca2-54e9-445b-afe4-fb340d4992c5
    line: 32
    col: 0
    score: 0.87
  - uuid: c5c9a5c6-427d-4864-8084-c083cd55faa0
    line: 113
    col: 0
    score: 0.87
  - uuid: bc5172ca-7a09-42ad-b418-8e42bb14d089
    line: 442
    col: 0
    score: 0.87
  - uuid: ba244286-4e84-425b-8bf6-b80c4eb783fc
    line: 358
    col: 0
    score: 0.87
  - uuid: 2c2b48ca-1476-47fb-8ad4-69d2588a6c84
    line: 417
    col: 0
    score: 0.87
  - uuid: 0f6f8f38-98d0-438f-9601-58f478acc0b7
    line: 271
    col: 0
    score: 0.87
  - uuid: 0f1f8cc1-b5a6-4307-a40d-78de3adafca2
    line: 100
    col: 0
    score: 0.85
  - uuid: 7bed0b9a-8b22-4b1f-be81-054a179453cb
    line: 190
    col: 0
    score: 0.85
---
```
**Hell. Yes.** ^ref-c5c5ff1c-1-0
```
This is the good stuff.

Let‚Äôs start designing a **Lisp-style DSL** to describe: ^ref-c5c5ff1c-4-0

* Hotkeys ^ref-c5c5ff1c-6-0
* Grouping behaviors ^ref-c5c5ff1c-7-0
* Window actions ^ref-c5c5ff1c-8-0
* Workspace definitions ^ref-c5c5ff1c-9-0
* Layouts ^ref-c5c5ff1c-10-0
* Bindings to external commands e.g. group-manager ^ref-c5c5ff1c-11-0

We‚Äôll keep it minimal and **homoiconic**, aiming for S-expression structures that could eventually be interpreted by a **Hy**, **Sibilant**, or even a custom runtime. ^ref-c5c5ff1c-13-0

---

## üéØ Primary Goals

We want this DSL to express:

```lisp
- keybinds (mod+h to move left)
- actions (move window, cycle group, switch workspace)
- groups and group membership
- layout positions (split, fullscreen, grid)
- workspace definitions (sets of window IDs)
- integration with external tools (run CLI commands)
```
```
^ref-c5c5ff1c-21-0 ^ref-c5c5ff1c-29-0
```
---

## üß™ Sample Syntax
```
^ref-c5c5ff1c-34-0
```
```lisp
;; Define a mod key
(def mod "super")

;; Bind key to launch terminal
(bind (key ,mod "Enter")
  (run "wt.exe"))

;; Bind directional window movement
(bind (key ,mod "h")
  (move-window left))
(bind (key ,mod "l")
  (move-window right))

;; Toggle fullscreen on focused window
(bind (key ,mod "f")
  (fullscreen toggle))

;; Group management
(bind (key ,mod "g")
  (group add "code"))

(bind (key "alt" "1")
  (group cycle "code"))

;; Workspace switching
(defworkspace 1
  (windows "code" "chat"))

(bind (key ,mod "1")
  (workspace switch 1))

;; Layouts
(layout (name "dev")
  (split vertical
    (pane (app "code") (size 70))
    (pane (split horizontal
      (pane (app "chat"))
      (pane (app "browser"))))))
^ref-c5c5ff1c-34-0
```

---

## üß† Let's Break It Down

### üîë Key Binding ^ref-c5c5ff1c-81-0

```lisp
(bind (key "alt" "1")
^ref-c5c5ff1c-81-0
  (group cycle "code")) ^ref-c5c5ff1c-86-0
``````
^ref-c5c5ff1c-87-0
```
```
^ref-c5c5ff1c-88-0
```
* `bind` declares a hotkey
* `(key ...)` is the key combo (can support namespaced modifiers) ^ref-c5c5ff1c-90-0
* The body is the action when pressed
```
^ref-c5c5ff1c-92-0
```
You could also define combos like this:

```lisp
^ref-c5c5ff1c-92-0
(bind (combo "LButton" "RButton")
  (run "screenshot-tool.exe"))
```
```
--- ^ref-c5c5ff1c-101-0
```
### üì¶ Group Management

```lisp
^ref-c5c5ff1c-101-0
(group add "code")          ; adds focused window to group "code" ^ref-c5c5ff1c-107-0
(group cycle "chat")        ; cycles visible window in group
(group remove "code")       ; removes current window
```
```
^ref-c5c5ff1c-109-0
```
You can imagine this compiling to:

```ts
RunWait, node group-manager.js group code %active_window%
```
```
^ref-c5c5ff1c-117-0
```
---
```
^ref-c5c5ff1c-117-0 ^ref-c5c5ff1c-122-0
```
### üß± Workspace System ^ref-c5c5ff1c-122-0
```
^ref-c5c5ff1c-124-0
```
```lisp
(defworkspace 1
  (windows "code" "chat"))
^ref-c5c5ff1c-124-0
```
```
^ref-c5c5ff1c-124-0
```
Each workspace maps to a window group or saved layout.

```lisp
(workspace switch 1)
(workspace save 2)
^ref-c5c5ff1c-134-0
(workspace restore 2)
```
```
^ref-c5c5ff1c-134-0
```
```
^ref-c5c5ff1c-140-0
```
```
--- ^ref-c5c5ff1c-142-0
```
```
^ref-c5c5ff1c-134-0 ^ref-c5c5ff1c-142-0
```
```
^ref-c5c5ff1c-140-0
```
### üß∞ Window Movement

```lisp
(move-window left)       ; move to left half of screen
(move-window screen 2)   ; move to monitor 2
^ref-c5c5ff1c-142-0
(move-window tile 1 1)   ; move to tile x=1 y=1
``````
^ref-c5c5ff1c-151-0
```
```
^ref-c5c5ff1c-151-0
```
Eventually you could write layout patterns in macros:

```lisp
(deflayout fullscreen
^ref-c5c5ff1c-156-0
  (move-window 0 0 screen-width screen-height)) ^ref-c5c5ff1c-158-0
^ref-c5c5ff1c-151-0
^ref-c5c5ff1c-158-0
^ref-c5c5ff1c-158-0
``````
^ref-c5c5ff1c-156-0
```
---

### üíª External Command Integration

```lisp
^ref-c5c5ff1c-158-0
(run "komorebic toggle-fullscreen") ^ref-c5c5ff1c-168-0
^ref-c5c5ff1c-170-0
^ref-c5c5ff1c-168-0 ^ref-c5c5ff1c-172-0
^ref-c5c5ff1c-174-0
^ref-c5c5ff1c-173-0 ^ref-c5c5ff1c-176-0
^ref-c5c5ff1c-172-0 ^ref-c5c5ff1c-177-0
^ref-c5c5ff1c-170-0
^ref-c5c5ff1c-168-0
(run (concat "node group-manager.js cycle " group-name)) ^ref-c5c5ff1c-173-0
```

Or even pipe shell output into logic: ^ref-c5c5ff1c-168-0

```lisp ^ref-c5c5ff1c-170-0
^ref-c5c5ff1c-174-0
^ref-c5c5ff1c-173-0 ^ref-c5c5ff1c-176-0
^ref-c5c5ff1c-172-0 ^ref-c5c5ff1c-177-0
^ref-c5c5ff1c-170-0 ^ref-c5c5ff1c-178-0
^ref-c5c5ff1c-180-0
^ref-c5c5ff1c-178-0
^ref-c5c5ff1c-186-0
^ref-c5c5ff1c-180-0
^ref-c5c5ff1c-178-0
^ref-c5c5ff1c-177-0
^ref-c5c5ff1c-176-0 ^ref-c5c5ff1c-186-0
^ref-c5c5ff1c-174-0 ^ref-c5c5ff1c-197-0
(bind (key ,mod "s")
  (let ((apps (sh "komorebic list-apps"))) ^ref-c5c5ff1c-172-0 ^ref-c5c5ff1c-180-0
    (show-overlay apps))) ^ref-c5c5ff1c-173-0
``````
^ref-c5c5ff1c-174-0 ^ref-c5c5ff1c-201-0
```
```
^ref-c5c5ff1c-185-0
```
```
^ref-c5c5ff1c-202-0
```
```
--- ^ref-c5c5ff1c-176-0
```
```
^ref-c5c5ff1c-177-0 ^ref-c5c5ff1c-204-0
```
## üì¶ Runtime Ideas ^ref-c5c5ff1c-178-0 ^ref-c5c5ff1c-186-0

This DSL could be: ^ref-c5c5ff1c-180-0 ^ref-c5c5ff1c-197-0

1. **Parsed and executed by Hy or Sibilant**
```
^ref-c5c5ff1c-210-0
```
   * For a real Lisp runtime ^ref-c5c5ff1c-201-0
   * Leverage FFI to call Windows APIs, run CLI tools ^ref-c5c5ff1c-202-0 ^ref-c5c5ff1c-212-0
2. **Custom interpreter in TypeScript/Python** ^ref-c5c5ff1c-186-0
```
^ref-c5c5ff1c-204-0 ^ref-c5c5ff1c-214-0
```
   * Tokenize S-exprs
   * Dispatch to internal logic or exec external commands ^ref-c5c5ff1c-197-0 ^ref-c5c5ff1c-216-0
3. **Compiled to AutoHotkey or Node.js config** ^ref-c5c5ff1c-217-0

Eventually this becomes your own **window manager config language**, much like `i3/config`, but programmable and dynamic. ^ref-c5c5ff1c-219-0
```
^ref-c5c5ff1c-201-0 ^ref-c5c5ff1c-210-0 ^ref-c5c5ff1c-220-0
```
```
--- ^ref-c5c5ff1c-202-0
```
```
^ref-c5c5ff1c-212-0
```
## üß† Design Constraints ^ref-c5c5ff1c-204-0 ^ref-c5c5ff1c-223-0
```
^ref-c5c5ff1c-197-0 ^ref-c5c5ff1c-214-0
```
| Feature           | Constraint                               | Strategy                      |
```
| ----------------- | ---------------------------------------- | ----------------------------- | ^ref-c5c5ff1c-216-0 ^ref-c5c5ff1c-226-0
```
| Realtime          | Needs hotkey hook layer                  | AHK or Node global hotkey lib | ^ref-c5c5ff1c-217-0 ^ref-c5c5ff1c-227-0
| State Tracking    | Must track windows, groups, layout       | Background service, IPC       | ^ref-c5c5ff1c-201-0
| Input Flexibility | Lisp needed to describe dynamic patterns | Macros + runtime logic        | ^ref-c5c5ff1c-202-0 ^ref-c5c5ff1c-210-0 ^ref-c5c5ff1c-219-0
| Performance       | Scripting layer must not block UI        | Async shell / IPC / queueing  | ^ref-c5c5ff1c-220-0 ^ref-c5c5ff1c-230-0
```
^ref-c5c5ff1c-204-0 ^ref-c5c5ff1c-212-0
```
---
```
^ref-c5c5ff1c-214-0 ^ref-c5c5ff1c-223-0
```
## üõ†Ô∏è What's Next? ^ref-c5c5ff1c-234-0
```
^ref-c5c5ff1c-216-0 ^ref-c5c5ff1c-235-0
```
You tell me where you want to go from here: ^ref-c5c5ff1c-217-0 ^ref-c5c5ff1c-226-0
```
^ref-c5c5ff1c-210-0 ^ref-c5c5ff1c-227-0
```
* Build a Hy interpreter for this DSL? ^ref-c5c5ff1c-219-0
* Start by **parsing this DSL in TypeScript** and emit AHK? ^ref-c5c5ff1c-212-0 ^ref-c5c5ff1c-220-0
* Write a tiny REPL for testing layout commands? ^ref-c5c5ff1c-230-0
* Use this DSL to **generate `i3layer.ahk`** files on the fly? ^ref-c5c5ff1c-214-0 ^ref-c5c5ff1c-241-0
```
^ref-c5c5ff1c-223-0
```
We‚Äôre standing at the edge of **building your own tiling window manager stack**, one `()` at a time. ^ref-c5c5ff1c-216-0 ^ref-c5c5ff1c-243-0
```
^ref-c5c5ff1c-217-0 ^ref-c5c5ff1c-234-0
```
```
--- ^ref-c5c5ff1c-226-0 ^ref-c5c5ff1c-235-0
```
```
^ref-c5c5ff1c-219-0 ^ref-c5c5ff1c-227-0
```
## üè∑Ô∏è Tags ^ref-c5c5ff1c-220-0

\#dsl #lisp #tiling-windows #autohotkey #komorebi #custom-wm #group-manager #workspace #keybinds #window-layout ^ref-c5c5ff1c-230-0
```
^ref-c5c5ff1c-223-0
```
Let‚Äôs pick a direction and start implementing. Want a parser next? Or the runtime behavior for `(bind ...)` forms?
<!-- GENERATED-SECTIONS:DO-NOT-EDIT-BELOW -->
## Related content
- [Docops Feature Updates]docops-feature-updates.md
- field-node-diagram-outline$field-node-diagram-outline.md
- field-node-diagram-set$field-node-diagram-set.md
- field-node-diagram-visualizations$field-node-diagram-visualizations.md
- [Fnord Tracer Protocol]fnord-tracer-protocol.md
- [Functional Embedding Pipeline Refactor]functional-embedding-pipeline-refactor.md
- graph-ds$graph-ds.md
- heartbeat-fragment-demo$heartbeat-fragment-demo.md
- i3-bluetooth-setup$i3-bluetooth-setup.md
- [Ice Box Reorganization]ice-box-reorganization.md
- komorebi-group-window-hack$komorebi-group-window-hack.md
- [Layer1SurvivabilityEnvelope](layer1survivabilityenvelope.md)
- Local-Offline-Model-Deployment-Strategy$local-offline-model-deployment-strategy.md
- System Scheduler with Resource-Aware DAG$system-scheduler-with-resource-aware-dag.md
- windows-tiling-with-autohotkey$windows-tiling-with-autohotkey.md
- sibilant-macro-targets$sibilant-macro-targets.md
- [prom ui bootstrap]promethean-web-ui-setup.md
- Cross-Target Macro System in Sibilant$cross-target-macro-system-in-sibilant.md
- Promethean Full-Stack Docker Setup$promethean-full-stack-docker-setup.md
- polymorphic-meta-programming-engine$polymorphic-meta-programming-engine.md
- AI-Centric OS with MCP Layer$ai-centric-os-with-mcp-layer.md
- Cross-Language Runtime Polymorphism$cross-language-runtime-polymorphism.md
- [RAG UI Panel with Qdrant and PostgREST]rag-ui-panel-with-qdrant-and-postgrest.md
- [Recursive Prompt Construction Engine]recursive-prompt-construction-engine.md
- [Event Bus MVP]event-bus-mvp.md
## Sources
- [Docops Feature Updates ‚Äî L226]docops-feature-updates.md#^ref-2792d448-226-0 (line 226, col 0, score 1)
- field-node-diagram-outline ‚Äî L705$field-node-diagram-outline.md#^ref-1f32c94a-705-0 (line 705, col 0, score 1)
- field-node-diagram-set ‚Äî L719$field-node-diagram-set.md#^ref-22b989d5-719-0 (line 719, col 0, score 1)
- field-node-diagram-visualizations ‚Äî L601$field-node-diagram-visualizations.md#^ref-e9b27b06-601-0 (line 601, col 0, score 1)
- [Fnord Tracer Protocol ‚Äî L1060]fnord-tracer-protocol.md#^ref-fc21f824-1060-0 (line 1060, col 0, score 1)
- [Functional Embedding Pipeline Refactor ‚Äî L726]functional-embedding-pipeline-refactor.md#^ref-a4a25141-726-0 (line 726, col 0, score 1)
- graph-ds ‚Äî L996$graph-ds.md#^ref-6620e2f2-996-0 (line 996, col 0, score 1)
- heartbeat-fragment-demo ‚Äî L667$heartbeat-fragment-demo.md#^ref-dd00677a-667-0 (line 667, col 0, score 1)
- i3-bluetooth-setup ‚Äî L736$i3-bluetooth-setup.md#^ref-5e408692-736-0 (line 736, col 0, score 1)
- [Ice Box Reorganization ‚Äî L645]ice-box-reorganization.md#^ref-291c7d91-645-0 (line 645, col 0, score 1)
- komorebi-group-window-hack ‚Äî L739$komorebi-group-window-hack.md#^ref-dd89372d-739-0 (line 739, col 0, score 1)
- [Layer1SurvivabilityEnvelope ‚Äî L816]layer1survivabilityenvelope.md#^ref-64a9f9f9-816-0 (line 816, col 0, score 1)
- Local-Offline-Model-Deployment-Strategy ‚Äî L232$local-offline-model-deployment-strategy.md#^ref-ad7f1ed3-232-0 (line 232, col 0, score 0.93)
- Cross-Target Macro System in Sibilant ‚Äî L32$cross-target-macro-system-in-sibilant.md#^ref-5f210ca2-32-0 (line 32, col 0, score 0.87)
- sibilant-macro-targets ‚Äî L113$sibilant-macro-targets.md#^ref-c5c9a5c6-113-0 (line 113, col 0, score 0.87)
- [prom ui bootstrap ‚Äî L442]promethean-web-ui-setup.md#^ref-bc5172ca-442-0 (line 442, col 0, score 0.87)
- System Scheduler with Resource-Aware DAG ‚Äî L358$system-scheduler-with-resource-aware-dag.md#^ref-ba244286-358-0 (line 358, col 0, score 0.87)
- Promethean Full-Stack Docker Setup ‚Äî L417$promethean-full-stack-docker-setup.md#^ref-2c2b48ca-417-0 (line 417, col 0, score 0.87)
- windows-tiling-with-autohotkey ‚Äî L271$windows-tiling-with-autohotkey.md#^ref-0f6f8f38-271-0 (line 271, col 0, score 0.87)
- AI-Centric OS with MCP Layer ‚Äî L100$ai-centric-os-with-mcp-layer.md#^ref-0f1f8cc1-100-0 (line 100, col 0, score 0.85)
- polymorphic-meta-programming-engine ‚Äî L190$polymorphic-meta-programming-engine.md#^ref-7bed0b9a-190-0 (line 190, col 0, score 0.85)
<!-- GENERATED-SECTIONS:DO-NOT-EDIT-ABOVE -->
