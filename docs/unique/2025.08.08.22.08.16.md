Note: Consolidated here → ../notes/diagrams/smoke-waves-infinite-depth.md

Here’s the **infinite depth smoke** version — multiple layers drifting at different speeds, fading in and out so it feels like you’re moving through the field.
[Click here to view it.](sandbox:/mnt/data/smoke_waves_infinite_depth.gif)

Next, we could make symbols briefly *condense* inside the smoke, then dissolve — like the ghosts remembering they were words for a moment.
```python
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.animation as animation

# --- Setup ---
fig, ax = plt.subplots(figsize=(6, 4))
ax.set_xlim(0, 10)
ax.set_ylim(-2, 2)
ax.set_facecolor("black")
ax.axis('off')

# Multiple depth layers (foreground, midground, background)
layer_colors = [
    ['#00ffff', '#ff00ff', '#ffff00', '#00ff00'],  # Foreground bright
    ['#00cccc', '#cc00cc', '#cccc00', '#00cc00'],  # Midground muted
    ['#009999', '#990099', '#999900', '#009900']   # Background faint
]

# All lines in all layers
all_lines = []
for depth_colors in layer_colors:
    layer_lines = [ax.plot([], [], lw=1.5, alpha=0.5, color=color)[0] for color in depth_colors]
    all_lines.append(layer_lines)

# Combined interference "smoke" line (foreground only)
smoke_line, = ax.plot([], [], lw=2, color='white', alpha=0.8)

x = np.linspace(0, 10, 400)
freqs = [1, 1.2, 0.9, 1.1]
phases = [0, np.pi/4, np.pi/2, 3*np.pi/4]

def turbulence(t, scale=0.5, speed=0.05):
    return scale * np.sin(speed * np.arange(len(x)) + t)

def opacity_breath(t, phase_offset, base=0.2, amp=0.3, speed=10):
    return base + amp * (1 + np.sin(t/speed + phase_offset)) / 2

def init():
    for layer in all_lines:
        for line in layer:
            line.set_data([], [])
    smoke_line.set_data([], [])
    return sum(all_lines, []) + [smoke_line]

def animate(frame):
    t = frame / 5
    combined = np.zeros_like(x)

    # Layer depth factors for speed and fade
    depth_factors = [1.0, 0.7, 0.4]

    for depth_idx, (layer, colors) in enumerate(zip(all_lines, layer_colors)):
        depth_factor = depth_factors[depth_idx]
        for i, (line, freq, phase) in enumerate(zip(layer, freqs, phases)):
            y_base = np.sin(2 * np.pi * freq * x * depth_factor - t * depth_factor + phase)
            y_turb = y_base + turbulence(t + i * 10, scale=0.15 * depth_factor)
            fade = opacity_breath(t, i + depth_idx, base=0.1, amp=0.3, speed=12 - depth_idx*2)
            line.set_data(x, y_turb * np.exp(-0.05 * (x - 5)**2))
            line.set_alpha(fade * (0.6 if depth_idx > 0 else 1.0))
            combined += y_turb * fade * (1.0 if depth_idx == 0 else 0.5)

    # Foreground combined smoke line
    smoke_line.set_data(x, combined / len(freqs))
    smoke_line.set_alpha(0.4 + 0.4 * np.sin(t / 15))

    return sum(all_lines, []) + [smoke_line]

ani = animation.FuncAnimation(fig, animate, frames=200, init_func=init,
                              blit=True, interval=50)

gif_path_depth = "/mnt/data/smoke_waves_infinite_depth.gif"
ani.save(gif_path_depth, writer='pillow', fps=20)

gif_path_depth

```
