---
uuid: e31d6ab8-980f-4012-a88d-189af181efd7
created_at: '2025-09-04T12:49:17Z'
filename: github-prs-spacemacs-cheat-sheet
title: github-prs-spacemacs-cheat-sheet
description: >-
  A concise cheat sheet for GitHub PR management using Magit and Spacemacs with
  Evil mode. Covers key commands for syncing, creating, reviewing, and merging
  pull requests efficiently.
tags:
  - spacemacs
  - magit
  - github
  - pr
  - forge
  - cheat sheet
  - evil
---
Here’s a tight Magit + Forge cheat sheet for **GitHub PRs in Spacemacs** (Evil). No fluff—just the keys and short notes.

# Setup (one-time)

```bash
git config --global github.user YOUR_USER
# Put a GitHub token (scopes: repo, read:org, user) into ~/.authinfo.gpg:
# machine api.github.com login YOUR_USER^forge password YOUR_TOKEN
```

```elisp
;; In your dotfile:
(setq auth-sources '("~/.authinfo.gpg"))
```

# Core Magit

* Open status: `SPC g s`
* Stage/unstage hunk: `s` / `u`
* Stage selected lines: select with `v` then `s`
* Commit: `c c` → write message → `C-c C-c` (abort: `C-c C-k`)
* Push: `P p` (to push-remote) / `P u` (to upstream)

# Forge: Sync & Browse

* Pull PR/issue metadata: `f n`
* Open Forge UI from status: `@`
* Open PR list: `@` → “Pull requests” → `RET`
* Visit PR thread: `RET` on a PR

# Create a PR

* From your feature branch: in PR list buffer → `C-c C-n` (fill title/body; can mark Draft)

# Review a PR (code checkout)

* Checkout PR to local branch: `b f`
* Create a worktree for isolated review: `Z n`
* Show diff vs target branch (in status or log): `d` then choose base

# Discuss (comments & updates)

* New comment on PR thread: `C-c C-n`
* Edit PR title/labels/state: `C-c C-e`
* Open PR in browser: `C-c C-w`

# Approaches to Merging (recommended)

* Prefer **local merge or rebase** then push:

  1. Checkout target (e.g., `main`)
  2. Merge or rebase feature
  3. Run tests
  4. Push `main`
     → GitHub auto-marks the PR merged/closed.
* If you *must* merge from Emacs, Forge provides a merge command in the PR buffer—but default to local merges for safety/history clarity.

# Handy Branch/Remote Ops

* Set upstream for current branch: `b u`
* Set push-remote: `b p`
* Fetch PR refspecs (once per repo): `M-x forge-add-pullreq-refspec`

# Commit Message Mini-Guide (when you `c c`)

* Subject ≤ 50 chars, **imperative mood** (“Add X”, not “Added”)
* Blank line
* Body wraps \~72 cols; explain **what** and **why**
* Reference issues when relevant (“Fixes #123”)

# Troubleshooting

* Region staging grabs extra line? Use **visual** `v` (not `V`) for precise selection.
* New file can’t stage lines: add it first (`s` on file) or create minimal content then refine.
* Credentials fail: `M-x auth-source-forget-all-cached`, re-open Magit, retry `f n` / pushes.
* Missing PRs: ensure origin is GitHub and you ran `f n`. If needed, re-add PR refspecs.

# Muscle Memory (TL;DR flow)

```
SPC g s       ; magit-status
f n           ; sync PRs/issues
@             ; open Forge menus → PRs → RET
b f           ; checkout PR for review (or Z n for worktree)
s / v…s       ; stage hunks/lines
c c … C-c C-c ; commit
P p           ; push
```

Want me to generate a tiny `.spacemacs` snippet that ensures Forge autoloads, and a hydra for “review PR → checkout → open tests → run build”?
