I have a task on my board to document my git branching workflow, and now is as
good a time as any to work this out. We can start here and figure out how
branches like `chore/<task>`, `codex/<task>`, etc., end up in `main`.

Currently, I use a few computers connected via Synergy to work on the repo. From
these dev/hostname branches, ideally, my changes get merged into testing,
staging, and then main.

For documentation, I work in `obsidian/<hostname>`; right now, I have two main
computers: `stealth` and `yoga`. This gives me four consistent, persistent human
work branches where I typically merge my work from other AI sources. 

I usually do my hacking on these branches, or if I feel it needs to be separate,
I’ll create `<type>/<task>` branches.

The typical workflow is as follows:
1. `codex/<task>` -> `dev/<hostname>` -> `main`
2. Sometimes, when manually opening a codex branch, I might open
   `feat/codex-<task>` to indicate:
   - Codex isn't working on this now
   - Codex started it
   - A person is working on it

Any prefix that isn’t `codex/` typically means I am working on it. However, I
sometimes find myself fighting the codex cloud interface because it defaults to
merging into main, which can be a bit insane. Working in government may have
forced me to think about branching code more systematically. Even outside of
government work, we rarely merged directly into main.

For `obsidian/<hostname>`, my current flow is:
1. `obsidian/<hostname>` -> `dev/stealth` -> `main`

However, these flows should be more like:
1. `<describer>/<task>` -> `dev/testing` -> `dev/staging` -> `main`
2. Or if I’m doing work, I should be disciplined and follow this flow:
   - `<describer>/<task>` -> `dev/<hostname>` -> `dev/testing` -> `dev/staging`
     -> `main`

Documentation might need its own pipeline because of a transformation step.
Usually, I handle these transformations, but sometimes Codex generates
documentation for me. Therefore, we should consider this in our workflow:
1. `<codex|docs|readme|etc>/<task>` -> `obsidian/<hostname>` ->
   `obsidian/staging` -> `obsidian/main` -> `main`

On `obsidian/staging` into `obsidian/main`, a dry run is made to make sure
the project can cleanly be converted to github markdown,
then converted back to obsidian style.

We need it to go both ways because outside collaborators may change docs without using obsidian.
So we need to know that nothing breaks, and flag it if it does so we can fix it on one side or the other.

wiki links to GitHub links when merging `obsidian/main` into `main`.
New collaborators/hosts branch off of `obsidian/main`, which is constantly
rebuilt from main as main is changed.

Whenever main is updated, and a markdown file has been altered,
a new PR must be opened from `main` into `obsidian/staging`
so the dry run in both directions can be executed.
