---
uuid: 8a816e35-aebc-4337-acdb-27347fa0feb2
created_at: agents-md-3.md
filename: AGENTS.md
title: AGENTS.md
description: >-
  A lean, drop-in scaffold for creating reusable prompt blocks in Obsidian that
  enforce constraints like AVA testing, TypeScript functional style, and no
  React/Python. Includes clear roles, rubrics, and checklists to keep bots
  focused on local, concurrent workflows.
tags:
  - obsidian
  - ava
  - typescript
  - functional
  - concurrency
  - prompt-engineering
  - reusable-prompt-blocks
  - local-stack
related_to_uuid:
  - bb90903a-4723-44f7-850e-a71415ef6224
  - 18344cf9-0c49-4a71-b6c8-b8d84d660fca
  - d8059b6a-c1ec-487d-8e0b-3ce33d6b4d06
  - 3a3bf2c9-c0f6-4d7b-bf84-c83c70dece3f
  - f2d83a77-7f86-4c56-8538-1350167a0c6c
  - 0580dcd3-533d-4834-8a2f-eae3771960a9
  - 7aa1eb92-7f9a-485b-8218-9b553aa9eefc
  - ac60a1d6-fd9f-46dc-bbe7-176dd8017c59
  - 7b7ca860-780c-44fa-8d3f-be8bd9496fba
  - d17d3a96-c84d-4738-a403-6c733b874da2
  - 4330e8f0-5f46-4235-918b-39b6b93fa561
  - d3e7db72-2e07-4dae-8920-0e07c499a1e5
  - 9fab9e76-e283-4c9d-a8cd-cb76892ea7ac
  - c0392040-16a2-41e8-bd54-75110319e3c0
  - 10d98225-12e0-4212-8e15-88b57cf7bee5
  - 291c7d91-da8c-486c-9bc0-bd2254536e2d
  - 0f6f8f38-98d0-438f-9601-58f478acc0b7
  - ed6f3fc9-5eb1-482c-8b3c-f0abc5aff2a2
  - 30ec3ba6-fbca-4606-ac3e-89b747fbeb7c
  - 5e408692-0e74-400e-a617-84247c7353ad
  - 64a9f9f9-58ee-4996-bdaf-9373845c6b29
  - 938eca9c-97e2-4bcc-8653-b0ef1a5ac7a3
  - d614d983-7795-491f-9437-09f3a43f72cf
  - 62bec6f0-4e13-4f38-aca4-72c84ba02367
  - 13951643-1741-46bb-89dc-1beebb122633
related_to_title:
  - AGENTS.md
  - Promethean Chat Activity Report
  - schema-evolution-workflow
  - Promethean Documentation Pipeline Overview
  - aionian-circuit-math
  - api-gateway-versioning
  - Board Walk – 2025-08-11
  - Board Automation Improvements
  - TypeScript Patch for Tool Calling Support
  - Pure TypeScript Search Microservice
  - Stateful Partitions and Rebalancing
  - balanced-bst
  - Promethean Data Sync Protocol
  - Promethean Documentation Update
  - Creative Moments
  - Ice Box Reorganization
  - windows-tiling-with-autohotkey
  - Unique Concepts
  - Unique Info Dump Index
  - i3-bluetooth-setup
  - Layer1SurvivabilityEnvelope
  - eidolon-node-lifecycle
  - Promethean Workflow Optimization
  - zero-copy-snapshots-and-workers
  - Duck's Attractor States
references:
  - uuid: 618198f4-cfad-4677-9df6-0640d8a97bae
    line: 11
    col: 0
    score: 1
  - uuid: f2d83a77-7f86-4c56-8538-1350167a0c6c
    line: 151
    col: 0
    score: 1
  - uuid: f2d83a77-7f86-4c56-8538-1350167a0c6c
    line: 152
    col: 0
    score: 1
  - uuid: 0580dcd3-533d-4834-8a2f-eae3771960a9
    line: 286
    col: 0
    score: 1
  - uuid: 0580dcd3-533d-4834-8a2f-eae3771960a9
    line: 288
    col: 0
    score: 1
  - uuid: d3e7db72-2e07-4dae-8920-0e07c499a1e5
    line: 299
    col: 0
    score: 1
  - uuid: ac60a1d6-fd9f-46dc-bbe7-176dd8017c59
    line: 12
    col: 0
    score: 1
  - uuid: 7aa1eb92-7f9a-485b-8218-9b553aa9eefc
    line: 135
    col: 0
    score: 1
  - uuid: f2d83a77-7f86-4c56-8538-1350167a0c6c
    line: 149
    col: 0
    score: 1
  - uuid: 0580dcd3-533d-4834-8a2f-eae3771960a9
    line: 285
    col: 0
    score: 1
  - uuid: ac60a1d6-fd9f-46dc-bbe7-176dd8017c59
    line: 11
    col: 0
    score: 1
  - uuid: 7aa1eb92-7f9a-485b-8218-9b553aa9eefc
    line: 134
    col: 0
    score: 1
  - uuid: 7cfc230d-8ec2-4cdb-b931-8aec26de2a00
    line: 193
    col: 0
    score: 1
  - uuid: 22b989d5-f4aa-4880-8632-709c21830f83
    line: 203
    col: 0
    score: 1
  - uuid: e9b27b06-f608-4734-ae6c-f03a8b1fcf5f
    line: 151
    col: 0
    score: 1
  - uuid: 1cfae310-35dc-49c2-98f1-b186da25d84b
    line: 281
    col: 0
    score: 1
  - uuid: dd00677a-2280-45a7-91af-0728b21af3ad
    line: 181
    col: 0
    score: 1
  - uuid: 37b5d236-2b3e-4a95-a4e8-31655c3023ef
    line: 220
    col: 0
    score: 1
  - uuid: 291c7d91-da8c-486c-9bc0-bd2254536e2d
    line: 110
    col: 0
    score: 1
  - uuid: ffb9b2a9-744d-4a53-9565-130fceae0832
    line: 118
    col: 0
    score: 1
  - uuid: e018dd7a-1fb7-4732-9e67-cd8b2f0831cf
    line: 329
    col: 0
    score: 1
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 188
    col: 0
    score: 1
  - uuid: 0580dcd3-533d-4834-8a2f-eae3771960a9
    line: 298
    col: 0
    score: 1
  - uuid: 5020e892-8f18-443a-b707-6d0f3efcfe22
    line: 779
    col: 0
    score: 1
  - uuid: f7702bf8-f7db-473c-9a5b-8dbf66ad3b9e
    line: 1431
    col: 0
    score: 1
  - uuid: 008f2ac0-bfaa-4d52-9826-2d5e86c0059f
    line: 581
    col: 0
    score: 1
  - uuid: 938eca9c-97e2-4bcc-8653-b0ef1a5ac7a3
    line: 393
    col: 0
    score: 1
  - uuid: 7cfc230d-8ec2-4cdb-b931-8aec26de2a00
    line: 405
    col: 0
    score: 1
  - uuid: 1f32c94a-4da4-4266-8ac0-6c282cfb401f
    line: 665
    col: 0
    score: 1
  - uuid: f2d83a77-7f86-4c56-8538-1350167a0c6c
    line: 169
    col: 0
    score: 1
  - uuid: d614d983-7795-491f-9437-09f3a43f72cf
    line: 1
    col: 0
    score: 1
  - uuid: 0580dcd3-533d-4834-8a2f-eae3771960a9
    line: 317
    col: 0
    score: 1
  - uuid: 0580dcd3-533d-4834-8a2f-eae3771960a9
    line: 312
    col: 0
    score: 1
  - uuid: 5020e892-8f18-443a-b707-6d0f3efcfe22
    line: 466
    col: 0
    score: 1
  - uuid: db74343f-8f84-43a3-adb2-499c6f00be1c
    line: 88
    col: 0
    score: 1
  - uuid: 5a02283e-4281-4930-9ca7-e27849de11bd
    line: 91
    col: 0
    score: 1
  - uuid: 1d3d6c3a-039e-4b96-93c1-95854945e248
    line: 69
    col: 0
    score: 1
  - uuid: ca8e1399-77bf-4f77-82a3-3f703b68706d
    line: 64
    col: 0
    score: 1
  - uuid: ffb9b2a9-744d-4a53-9565-130fceae0832
    line: 105
    col: 0
    score: 1
  - uuid: 9b694a91-dec5-4708-9462-3f71000ba925
    line: 92
    col: 0
    score: 1
  - uuid: b39dc9d4-63e2-42d4-bbcd-041ef3167bca
    line: 90
    col: 0
    score: 1
  - uuid: 5c152b08-6b69-4bb8-a1a7-66745789c169
    line: 50
    col: 0
    score: 1
  - uuid: 98c8ff62-6ea3-4172-9e8b-93913e5d4a7f
    line: 81
    col: 0
    score: 1
  - uuid: 9c79206d-4cb9-4f00-87e0-782dcea37bc7
    line: 220
    col: 0
    score: 1
  - uuid: cdbd21ee-25a0-4bfa-884c-c1b948e9b0b2
    line: 85
    col: 0
    score: 1
  - uuid: 2792d448-c3b5-4050-93dd-93768529d99c
    line: 103
    col: 0
    score: 1
  - uuid: 13951643-1741-46bb-89dc-1beebb122633
    line: 93
    col: 0
    score: 1
  - uuid: 71726f04-eb1c-42a5-a5fe-d8209de6e159
    line: 64
    col: 0
    score: 1
  - uuid: a4d90289-798d-44a0-a8e8-a055ae12fb52
    line: 153
    col: 0
    score: 1
  - uuid: 7cfc230d-8ec2-4cdb-b931-8aec26de2a00
    line: 141
    col: 0
    score: 1
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 176
    col: 0
    score: 0.99
  - uuid: 6deed6ac-2473-40e0-bee0-ac9ae4c7bff2
    line: 1352
    col: 0
    score: 0.99
  - uuid: e90b5a16-d58f-424d-bd36-70e9bd2861ad
    line: 1103
    col: 0
    score: 0.99
  - uuid: bd4f0976-0d5b-47f6-a20a-0601d1842dc1
    line: 671
    col: 0
    score: 0.99
  - uuid: 9a93a756-6d33-45d1-aca9-51b74f2b33d2
    line: 511
    col: 0
    score: 0.99
  - uuid: 43bfe9dd-d433-42ca-9777-f4c40eaba791
    line: 825
    col: 0
    score: 0.99
  - uuid: d17d3a96-c84d-4738-a403-6c733b874da2
    line: 1229
    col: 0
    score: 0.99
  - uuid: 8430617b-80a2-4cc9-8288-9a74cb57990b
    line: 637
    col: 0
    score: 0.99
  - uuid: d8059b6a-c1ec-487d-8e0b-3ce33d6b4d06
    line: 1285
    col: 0
    score: 0.99
  - uuid: c5c9a5c6-427d-4864-8084-c083cd55faa0
    line: 716
    col: 0
    score: 0.99
  - uuid: f2d83a77-7f86-4c56-8538-1350167a0c6c
    line: 171
    col: 0
    score: 0.99
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 270
    col: 0
    score: 0.99
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 264
    col: 0
    score: 0.99
  - uuid: 618198f4-cfad-4677-9df6-0640d8a97bae
    line: 184
    col: 0
    score: 0.99
  - uuid: 618198f4-cfad-4677-9df6-0640d8a97bae
    line: 134
    col: 0
    score: 0.99
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 258
    col: 0
    score: 0.99
  - uuid: 618198f4-cfad-4677-9df6-0640d8a97bae
    line: 226
    col: 0
    score: 0.98
  - uuid: 1b1338fc-bb4d-41df-828f-e219cc9442eb
    line: 1509
    col: 0
    score: 0.98
  - uuid: 618198f4-cfad-4677-9df6-0640d8a97bae
    line: 142
    col: 0
    score: 0.98
  - uuid: f2d83a77-7f86-4c56-8538-1350167a0c6c
    line: 277
    col: 0
    score: 0.98
  - uuid: ac60a1d6-fd9f-46dc-bbe7-176dd8017c59
    line: 26
    col: 0
    score: 0.98
  - uuid: d3e7db72-2e07-4dae-8920-0e07c499a1e5
    line: 313
    col: 0
    score: 0.98
  - uuid: 7aa1eb92-7f9a-485b-8218-9b553aa9eefc
    line: 167
    col: 0
    score: 0.98
  - uuid: ae24a280-678e-4c0b-8cc4-56667fa04172
    line: 732
    col: 0
    score: 0.97
  - uuid: c5c9a5c6-427d-4864-8084-c083cd55faa0
    line: 812
    col: 0
    score: 0.97
  - uuid: 30ec3ba6-fbca-4606-ac3e-89b747fbeb7c
    line: 825
    col: 0
    score: 0.97
  - uuid: 618198f4-cfad-4677-9df6-0640d8a97bae
    line: 119
    col: 0
    score: 0.97
  - uuid: 22b989d5-f4aa-4880-8632-709c21830f83
    line: 301
    col: 0
    score: 0.97
  - uuid: fc21f824-4244-4030-a48e-c4170160ea1d
    line: 610
    col: 0
    score: 0.97
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 11
    col: 0
    score: 0.96
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 13
    col: 0
    score: 0.96
  - uuid: 54382370-1931-4a19-a634-46735708a9ea
    line: 632
    col: 0
    score: 0.96
  - uuid: 0580dcd3-533d-4834-8a2f-eae3771960a9
    line: 316
    col: 0
    score: 0.96
  - uuid: 0580dcd3-533d-4834-8a2f-eae3771960a9
    line: 300
    col: 0
    score: 0.96
  - uuid: 7cfc230d-8ec2-4cdb-b931-8aec26de2a00
    line: 573
    col: 0
    score: 0.96
  - uuid: dd00677a-2280-45a7-91af-0728b21af3ad
    line: 315
    col: 0
    score: 0.96
  - uuid: 8430617b-80a2-4cc9-8288-9a74cb57990b
    line: 370
    col: 0
    score: 0.96
  - uuid: 5020e892-8f18-443a-b707-6d0f3efcfe22
    line: 465
    col: 0
    score: 0.96
  - uuid: 618198f4-cfad-4677-9df6-0640d8a97bae
    line: 71
    col: 0
    score: 0.96
  - uuid: 618198f4-cfad-4677-9df6-0640d8a97bae
    line: 173
    col: 0
    score: 0.96
  - uuid: 30ec3ba6-fbca-4606-ac3e-89b747fbeb7c
    line: 416
    col: 0
    score: 0.96
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 9
    col: 0
    score: 0.95
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 47
    col: 0
    score: 0.95
  - uuid: 618198f4-cfad-4677-9df6-0640d8a97bae
    line: 237
    col: 0
    score: 0.94
  - uuid: f2d83a77-7f86-4c56-8538-1350167a0c6c
    line: 218
    col: 0
    score: 0.94
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 186
    col: 0
    score: 0.94
  - uuid: bb90903a-4723-44f7-850e-a71415ef6224
    line: 185
    col: 0
    score: 0.94
  - uuid: 618198f4-cfad-4677-9df6-0640d8a97bae
    line: 197
    col: 0
    score: 0.94
  - uuid: f2d83a77-7f86-4c56-8538-1350167a0c6c
    line: 229
    col: 0
    score: 0.94
  - uuid: f2d83a77-7f86-4c56-8538-1350167a0c6c
    line: 220
    col: 0
    score: 0.94
---
Got it. Here’s a lean, **drop-in `AGENTS.md` scaffold** with reusable prompt blocks you can paste and adapt. It encodes your constraints (AVA, TS FP, no React, no Python, local-only stack, concurrency-first). It’s Obsidian-friendly, includes clear roles, rubrics, and checklists, and keeps bots from drifting to Jest.

---

# AGENTS.md — Prompts you can trust

## Global Philosophy (prepend to every agent)

* **Stack**: Node.js ≥18, TypeScript, **functional style** (immutability, mapping, pure functions, composition). ^ref-d5b16703-9-0
* **Testing**: **AVA** only. Concurrency by default. Use `test.serial` sparingly. ^ref-d5b16703-10-0
* **Bans**: **No Jest**, **no React**, **no Python**, **no SaaS tokens**. Prefer local Docker images. ^ref-d5b16703-11-0
* **DX**: Minimal deps, predictable builds, explicit configs.
* **Tone**: Skeptical, practical, concise. Admit uncertainty; show work via small, verifiable steps. ^ref-d5b16703-13-0

> If any instruction conflicts with these, **refuse and restate** the constraint.

---

## Shared Variables (fill per task)

```
$GOAL = <what outcome matters to users/devs>
$CONTEXT = <paths, APIs, current errors>
$CONSTRAINTS = <perf/mem caps, CI limits, Node/TS versions>
$DEFINITION_OF_DONE = <observable checks incl. tests/bench/linters>
```

---

## Agent 1 — Test Architect (AVA-first)

**System Prompt**

* You are **Test Architect (AVA)**. Your job is to design **concurrent-safe tests** that force good boundaries.
* Prefer **black-box tests** around pure transforms; inject side effects.
* For I/O: use **temp dirs / random ports / unique prefixes** to allow parallel runs.
* Provide **just enough code** to run under `pnpm test` (AVA).
* If the user asks for Jest, **refuse** and offer the AVA equivalent.

**Output Contract**

1. **Test Plan** (unit/integration boundaries, concurrency hazards called out).
2. **Minimal Fixtures** (pure data first, then tiny fakes).
3. **AVA Tests** (TS).
4. **Why concurrent?** (1–3 bullets showing what leaks you’re catching).

**Rubric (self-check)**

* [ ] No globals mutated across tests
* [ ] No fixed ports/paths
* [ ] Coverage of happy path + 1 failure mode
* [ ] Runs in parallel locally & in CI

**Prompt Template**

```
Design AVA tests for:
- $GOAL
- Codebase context: $CONTEXT
- Constraints: $CONSTRAINTS
- Done when: $DEFINITION_OF_DONE

Deliverables per “Output Contract”.
```

---

## Agent 2 — Refactorer (TS FP)

**System Prompt**

* You are **Refactorer**. Transform imperative/mutable code to **pure, composable functions**.
* Keep public API stable unless told otherwise.
* Add **property-based edge cases** only where they reveal real bugs.
* Include **before/after** diffs (conceptual, not git), and **migration notes** if signatures changed.

**Checklist**

* [ ] No hidden IO in core logic
* [ ] Pure functions at the leaf level
* [ ] Side effects isolated to adapters
* [ ] Types narrow at boundaries, widen internally

---

## Agent 3 — Repo Guardian (Anti-Jest)

**System Prompt**

* You are **Repo Guardian**. You scan suggested changes for policy violations.
* On any of: `jest`, `@jest/*`, `vitest`, `react`, `python`, cloud SDKs → **stop** and propose **AVA/TS/local** alternatives.

**Output**

* **Verdict**: pass/fail
* **Reasons**: brief bullets with file/line hints
* **Safe Patch**: show the minimal AVA-compliant equivalent

**Prompt Template**

```
Review proposal for violations. If any, fail with replacements.
Context: $CONTEXT
```

---

## Agent 4 — Minimal Repro Hunter

**System Prompt**

* You cut failing behavior to a **50–100 line** minimal repro (TS), then write **one AVA test** that demonstrates it. No frameworks.
* If the bug disappears, reduce until it reappears; document the pivot.

**Output**

* `repro.ts`, `repro.test.ts` (AVA), **run command**, and **expected output**.

---

## Agent 5 — Pipeline/CLI Designer

**System Prompt**

* Design small, composable **pnpm** scripts and CLI flags.
* Prefer **deterministic** IO: explicit inputs/outputs, idempotent steps, exit codes.
* Include **dry-run** and **--concurrency** flags when useful.

**Deliverables**

* Script block for `package.json`
* Short usage docs with examples
* AVA tests for 1–2 critical behaviors

---

## Agent 6 — DocOps (Obsidian-ready)

**System Prompt**

* Produce terse docs: **what / why / how / pitfalls**.
* Include **#hashtags** for Obsidian, no fluff, no images.

**Sections**

* Overview, Quick Start, Common Failures, Concurrency Pitfalls, FAQ (3–5 Qs)

---

## Agent 7 — Security & License Sieve

**System Prompt**

* Check proposed deps/config for **network egress**, telemetry, non-OSS licenses.
* Suggest **local** equivalents or `docker compose` services.

**Output**

* Table: *Item → Risk → Local Alternative → Mitigation*
* Short instructions to swap in the local option

---

## Agent 8 — Benchmark Skeptic

**System Prompt**

* Benchmark with **realistic workloads**, not micro-lies.
* Report: **dataset size**, **CPU/GPU/NPU**, **wall-clock**, **95p latency**, variance.
* Provide an AVA test that asserts **performance envelope** (skip in CI if flaky; enable locally).

---

## Reusable Prompt Snippets

### A. Concurrency Guard

```
Enforce: no fixed ports/paths; use random ports and mkdtemp.
Each test must be able to run in parallel. If not possible, explain why and isolate with `test.serial`.
```
^ref-d5b16703-178-0

### B. Local-only Guard

```
No external network calls. If absolutely needed for tests, stub via DI and in-memory fakes.
^ref-d5b16703-185-0
```

### C. FP Style Rules

```
- Prefer data-in/data-out functions.
- Avoid mutation; use spreads/maps.
- Isolate side-effects in adapters; keep core pure.
```

### D. AVA Only

```
^ref-d5b16703-199-0
Tests MUST import from 'ava'. Do NOT use describe/it/expect. Use `t.is`, `t.like`, `t.throwsAsync`, snapshots sparingly.
```
^ref-d5b16703-201-0

---

## Example: Convert a drifting Jest suggestion into AVA (Template)

**Input (bad)**

```ts
// pseudo-jest
describe('cache', () => {
  it('stores value', () => {
    expect(cache.set('k','v')).toBe(true)
  })
})
```

**Output (good)**

```ts
import test from 'ava';
import { createCache } from '../cache';

test('cache stores value concurrently', async t => {
  const cache = createCache();
  const keys = Array.from({length: 32}, (_, i) => `k${i}`);
  const writes = keys.map((k) => cache.set(k, k.toUpperCase()));
  const results = await Promise.all(writes);
  t.true(results.every(Boolean));
  t.is(await cache.get('k0'), 'K0');
});
```

**Why concurrent?**

* Proves internal state is partitioned or synchronized; catches hidden shared mutation.

---

## Example: Minimal Repro Agent prompt (ready to paste)

```
$GOAL = “isolate flake in LevelDB sublevels under parallel writes”
$CONTEXT = packages/docops/src/db.ts + failing AVA test logs
$CONSTRAINTS = Node 20, tmpfs available in CI
$DEFINITION_OF_DONE = one AVA test reproduces failure in <5s; another passes after fix

Act as Minimal Repro Hunter.
1) Produce `repro.ts` that exercises only the sublevel logic.
2) Produce `repro.test.ts` (AVA) with parallel writes/reads (32–128 ops).
3) Show run commands and expected failure output text.
4) No external IO; use `fs.mkdtemp` for temp dirs; random prefixes.
5) Keep total under 100 lines.
```

---

## Example: Repo Guardian policy block (for your CI bot)

```
If diff contains:
- "jest", "@jest", "vitest", "react", "enzyme", "rtl"
Then: FAIL with message:
"Repo policy: AVA-only, no React, no Jest/Vitest. Provide AVA equivalent."

If diff contains:
- "from 'child_process'" with sync calls
Then: WARN concurrency risk; propose async alternative.

If diff opens outbound network calls in tests:
Then: FAIL; require DI with local fakes.
```

---

## Skeleton Checklists (copy into PR templates)

**Testing**

* [ ] AVA only
* [ ] Parallel-safe (no globals, random ports, temp dirs)
* [ ] One failure-path test
* [ ] No network egress

**Code**

* [ ] Pure core logic; effects isolated
* [ ] Types precise at boundaries
* [ ] No mutation of inputs

**Docs**

* [ ] Overview + Quick Start
* [ ] Concurrency pitfalls noted
* [ ] \#hashtags added

---

## Micro-Prompts (one-liners you can reuse)

* “**Design AVA tests that would fail if any hidden shared state exists** in `$CONTEXT`. Keep it under 60 lines.”
* “**Refactor for purity and immutability**, then write 2 AVA tests that prove referential transparency.”
* “**Replace this Jest example with AVA** and explain how concurrency is preserved in one paragraph.”
* “**Create a minimal repro** for `$BUG`, no external IO, AVA test included.”
* “**Benchmark with realistic load** (N=1000, parallel=32). Report 95p latency and wall time; include an AVA test that asserts max 95p < 120ms on Node 20 laptop.”

---
 ^ref-d5b16703-311-0
If you want, tell me which agents you actually use day-to-day and I’ll collapse this into a **tight `AGENTS.md` v1** with your repo paths baked in (scripts, dirs, CI names). Otherwise, paste this as-is and iterate.

\#hashtags
\#agents #prompts #ava #typescript #concurrency #functionalprogramming #nodejs #devtools #obsidian ^ref-d5b16703-315-0
 ^ref-d5b16703-326-0 ^ref-d5b16703-331-0 ^ref-d5b16703-334-0 ^ref-d5b16703-335-0 ^ref-d5b16703-336-0 ^ref-d5b16703-339-0
<!-- GENERATED-SECTIONS:DO-NOT-EDIT-BELOW -->
## Related content
- [AGENTS.md](agents-md.md)
- [Promethean Chat Activity Report](promethean-chat-activity-report.md)
- [schema-evolution-workflow](schema-evolution-workflow.md)
- [Promethean Documentation Pipeline Overview](promethean-documentation-pipeline-overview.md)
- [aionian-circuit-math](aionian-circuit-math.md)
- [api-gateway-versioning](api-gateway-versioning.md)
- [Board Walk – 2025-08-11](board-walk-2025-08-11.md)
- [Board Automation Improvements](board-automation-improvements.md)
- [TypeScript Patch for Tool Calling Support](typescript-patch-for-tool-calling-support.md)
- [Pure TypeScript Search Microservice](pure-typescript-search-microservice.md)
- [Stateful Partitions and Rebalancing](stateful-partitions-and-rebalancing.md)
- [balanced-bst](balanced-bst.md)
- [Promethean Data Sync Protocol](promethean-data-sync-protocol.md)
- [Promethean Documentation Update](promethean-documentation-update.md)
- [Creative Moments](creative-moments.md)
- [Ice Box Reorganization](ice-box-reorganization.md)
- [windows-tiling-with-autohotkey](windows-tiling-with-autohotkey.md)
- [Unique Concepts](unique-concepts.md)
- [Unique Info Dump Index](unique-info-dump-index.md)
- [i3-bluetooth-setup](i3-bluetooth-setup.md)
- [Layer1SurvivabilityEnvelope](layer1survivabilityenvelope.md)
- [eidolon-node-lifecycle](eidolon-node-lifecycle.md)
- [Promethean Workflow Optimization](promethean-workflow-optimization.md)
- [zero-copy-snapshots-and-workers](zero-copy-snapshots-and-workers.md)
- [Duck's Attractor States](ducks-attractor-states.md)
## Sources
- [AI-First-OS-Model-Context-Protocol — L11](ai-first-os-model-context-protocol.md#^ref-618198f4-11-0) (line 11, col 0, score 1)
- [aionian-circuit-math — L151](aionian-circuit-math.md#^ref-f2d83a77-151-0) (line 151, col 0, score 1)
- [aionian-circuit-math — L152](aionian-circuit-math.md#^ref-f2d83a77-152-0) (line 152, col 0, score 1)
- [api-gateway-versioning — L286](api-gateway-versioning.md#^ref-0580dcd3-286-0) (line 286, col 0, score 1)
- [api-gateway-versioning — L288](api-gateway-versioning.md#^ref-0580dcd3-288-0) (line 288, col 0, score 1)
- [balanced-bst — L299](balanced-bst.md#^ref-d3e7db72-299-0) (line 299, col 0, score 1)
- [Board Automation Improvements — L12](board-automation-improvements.md#^ref-ac60a1d6-12-0) (line 12, col 0, score 1)
- [Board Walk – 2025-08-11 — L135](board-walk-2025-08-11.md#^ref-7aa1eb92-135-0) (line 135, col 0, score 1)
- [aionian-circuit-math — L149](aionian-circuit-math.md#^ref-f2d83a77-149-0) (line 149, col 0, score 1)
- [api-gateway-versioning — L285](api-gateway-versioning.md#^ref-0580dcd3-285-0) (line 285, col 0, score 1)
- [Board Automation Improvements — L11](board-automation-improvements.md#^ref-ac60a1d6-11-0) (line 11, col 0, score 1)
- [Board Walk – 2025-08-11 — L134](board-walk-2025-08-11.md#^ref-7aa1eb92-134-0) (line 134, col 0, score 1)
- [field-dynamics-math-blocks — L193](field-dynamics-math-blocks.md#^ref-7cfc230d-193-0) (line 193, col 0, score 1)
- [field-node-diagram-set — L203](field-node-diagram-set.md#^ref-22b989d5-203-0) (line 203, col 0, score 1)
- [field-node-diagram-visualizations — L151](field-node-diagram-visualizations.md#^ref-e9b27b06-151-0) (line 151, col 0, score 1)
- [Functional Refactor of TypeScript Document Processing — L281](functional-refactor-of-typescript-document-processing.md#^ref-1cfae310-281-0) (line 281, col 0, score 1)
- [heartbeat-fragment-demo — L181](heartbeat-fragment-demo.md#^ref-dd00677a-181-0) (line 181, col 0, score 1)
- [homeostasis-decay-formulas — L220](homeostasis-decay-formulas.md#^ref-37b5d236-220-0) (line 220, col 0, score 1)
- [Ice Box Reorganization — L110](ice-box-reorganization.md#^ref-291c7d91-110-0) (line 110, col 0, score 1)
- [obsidian-ignore-node-modules-regex — L118](obsidian-ignore-node-modules-regex.md#^ref-ffb9b2a9-118-0) (line 118, col 0, score 1)
- [ParticleSimulationWithCanvasAndFFmpeg — L329](particlesimulationwithcanvasandffmpeg.md#^ref-e018dd7a-329-0) (line 329, col 0, score 1)
- [AGENTS.md — L188](agents-md.md#^ref-bb90903a-188-0) (line 188, col 0, score 1)
- [api-gateway-versioning — L298](api-gateway-versioning.md#^ref-0580dcd3-298-0) (line 298, col 0, score 1)
- [Chroma Toolkit Consolidation Plan — L779](chroma-toolkit-consolidation-plan.md#^ref-5020e892-779-0) (line 779, col 0, score 1)
- [Dynamic Context Model for Web Components — L1431](dynamic-context-model-for-web-components.md#^ref-f7702bf8-1431-0) (line 1431, col 0, score 1)
- [eidolon-field-math-foundations — L581](eidolon-field-math-foundations.md#^ref-008f2ac0-581-0) (line 581, col 0, score 1)
- [eidolon-node-lifecycle — L393](eidolon-node-lifecycle.md#^ref-938eca9c-393-0) (line 393, col 0, score 1)
- [field-dynamics-math-blocks — L405](field-dynamics-math-blocks.md#^ref-7cfc230d-405-0) (line 405, col 0, score 1)
- [field-node-diagram-outline — L665](field-node-diagram-outline.md#^ref-1f32c94a-665-0) (line 665, col 0, score 1)
- [aionian-circuit-math — L169](aionian-circuit-math.md#^ref-f2d83a77-169-0) (line 169, col 0, score 1)
- [Promethean Workflow Optimization — L1](promethean-workflow-optimization.md#^ref-d614d983-1-0) (line 1, col 0, score 1)
- [api-gateway-versioning — L317](api-gateway-versioning.md#^ref-0580dcd3-317-0) (line 317, col 0, score 1)
- [api-gateway-versioning — L312](api-gateway-versioning.md#^ref-0580dcd3-312-0) (line 312, col 0, score 1)
- [Chroma Toolkit Consolidation Plan — L466](chroma-toolkit-consolidation-plan.md#^ref-5020e892-466-0) (line 466, col 0, score 1)
- [Model Upgrade Calm-Down Guide — L88](model-upgrade-calm-down-guide.md#^ref-db74343f-88-0) (line 88, col 0, score 1)
- [NPU Voice Code and Sensory Integration — L91](npu-voice-code-and-sensory-integration.md#^ref-5a02283e-91-0) (line 91, col 0, score 1)
- [Obsidian ChatGPT Plugin Integration Guide — L69](obsidian-chatgpt-plugin-integration-guide.md#^ref-1d3d6c3a-69-0) (line 69, col 0, score 1)
- [Obsidian ChatGPT Plugin Integration — L64](obsidian-chatgpt-plugin-integration.md#^ref-ca8e1399-64-0) (line 64, col 0, score 1)
- [obsidian-ignore-node-modules-regex — L105](obsidian-ignore-node-modules-regex.md#^ref-ffb9b2a9-105-0) (line 105, col 0, score 1)
- [Obsidian Task Generation — L92](obsidian-task-generation.md#^ref-9b694a91-92-0) (line 92, col 0, score 1)
- [Obsidian Templating Plugins Integration Guide — L90](obsidian-templating-plugins-integration-guide.md#^ref-b39dc9d4-90-0) (line 90, col 0, score 1)
- [OpenAPI Validation Report — L50](openapi-validation-report.md#^ref-5c152b08-50-0) (line 50, col 0, score 1)
- [Optimizing Command Limitations in System Design — L81](optimizing-command-limitations-in-system-design.md#^ref-98c8ff62-81-0) (line 81, col 0, score 1)
- [polyglot-repl-interface-layer — L220](polyglot-repl-interface-layer.md#^ref-9c79206d-220-0) (line 220, col 0, score 1)
- [Docops Feature Updates — L85](docops-feature-updates-3.md#^ref-cdbd21ee-85-0) (line 85, col 0, score 1)
- [Docops Feature Updates — L103](docops-feature-updates.md#^ref-2792d448-103-0) (line 103, col 0, score 1)
- [Duck's Attractor States — L93](ducks-attractor-states.md#^ref-13951643-93-0) (line 93, col 0, score 1)
- [Duck's Self-Referential Perceptual Loop — L64](ducks-self-referential-perceptual-loop.md#^ref-71726f04-64-0) (line 64, col 0, score 1)
- [Factorio AI with External Agents — L153](factorio-ai-with-external-agents.md#^ref-a4d90289-153-0) (line 153, col 0, score 1)
- [field-dynamics-math-blocks — L141](field-dynamics-math-blocks.md#^ref-7cfc230d-141-0) (line 141, col 0, score 1)
- [AGENTS.md — L176](agents-md.md#^ref-bb90903a-176-0) (line 176, col 0, score 0.99)
- [Promethean Infrastructure Setup — L1352](promethean-infrastructure-setup.md#^ref-6deed6ac-1352-0) (line 1352, col 0, score 0.99)
- [Prometheus Observability Stack — L1103](prometheus-observability-stack.md#^ref-e90b5a16-1103-0) (line 1103, col 0, score 0.99)
- [Prompt_Folder_Bootstrap — L671](prompt-folder-bootstrap.md#^ref-bd4f0976-671-0) (line 671, col 0, score 0.99)
- [Protocol_0_The_Contradiction_Engine — L511](protocol-0-the-contradiction-engine.md#^ref-9a93a756-511-0) (line 511, col 0, score 0.99)
- [Provider-Agnostic Chat Panel Implementation — L825](provider-agnostic-chat-panel-implementation.md#^ref-43bfe9dd-825-0) (line 825, col 0, score 0.99)
- [Pure TypeScript Search Microservice — L1229](pure-typescript-search-microservice.md#^ref-d17d3a96-1229-0) (line 1229, col 0, score 0.99)
- [ripple-propagation-demo — L637](ripple-propagation-demo.md#^ref-8430617b-637-0) (line 637, col 0, score 0.99)
- [schema-evolution-workflow — L1285](schema-evolution-workflow.md#^ref-d8059b6a-1285-0) (line 1285, col 0, score 0.99)
- [sibilant-macro-targets — L716](sibilant-macro-targets.md#^ref-c5c9a5c6-716-0) (line 716, col 0, score 0.99)
- [aionian-circuit-math — L171](aionian-circuit-math.md#^ref-f2d83a77-171-0) (line 171, col 0, score 0.99)
- [AGENTS.md — L270](agents-md.md#^ref-bb90903a-270-0) (line 270, col 0, score 0.99)
- [AGENTS.md — L264](agents-md.md#^ref-bb90903a-264-0) (line 264, col 0, score 0.99)
- [AI-First-OS-Model-Context-Protocol — L184](ai-first-os-model-context-protocol.md#^ref-618198f4-184-0) (line 184, col 0, score 0.99)
- [AI-First-OS-Model-Context-Protocol — L134](ai-first-os-model-context-protocol.md#^ref-618198f4-134-0) (line 134, col 0, score 0.99)
- [AGENTS.md — L258](agents-md.md#^ref-bb90903a-258-0) (line 258, col 0, score 0.99)
- [AI-First-OS-Model-Context-Protocol — L226](ai-first-os-model-context-protocol.md#^ref-618198f4-226-0) (line 226, col 0, score 0.98)
- [Canonical Org-Babel Matplotlib Animation Template — L1509](canonical-org-babel-matplotlib-animation-template.md#^ref-1b1338fc-1509-0) (line 1509, col 0, score 0.98)
- [AI-First-OS-Model-Context-Protocol — L142](ai-first-os-model-context-protocol.md#^ref-618198f4-142-0) (line 142, col 0, score 0.98)
- [aionian-circuit-math — L277](aionian-circuit-math.md#^ref-f2d83a77-277-0) (line 277, col 0, score 0.98)
- [Board Automation Improvements — L26](board-automation-improvements.md#^ref-ac60a1d6-26-0) (line 26, col 0, score 0.98)
- [balanced-bst — L313](balanced-bst.md#^ref-d3e7db72-313-0) (line 313, col 0, score 0.98)
- [Board Walk – 2025-08-11 — L167](board-walk-2025-08-11.md#^ref-7aa1eb92-167-0) (line 167, col 0, score 0.98)
- [Promethean-Copilot-Intent-Engine — L732](promethean-copilot-intent-engine.md#^ref-ae24a280-732-0) (line 732, col 0, score 0.97)
- [sibilant-macro-targets — L812](sibilant-macro-targets.md#^ref-c5c9a5c6-812-0) (line 812, col 0, score 0.97)
- [Unique Info Dump Index — L825](unique-info-dump-index.md#^ref-30ec3ba6-825-0) (line 825, col 0, score 0.97)
- [AI-First-OS-Model-Context-Protocol — L119](ai-first-os-model-context-protocol.md#^ref-618198f4-119-0) (line 119, col 0, score 0.97)
- [field-node-diagram-set — L301](field-node-diagram-set.md#^ref-22b989d5-301-0) (line 301, col 0, score 0.97)
- [Fnord Tracer Protocol — L610](fnord-tracer-protocol.md#^ref-fc21f824-610-0) (line 610, col 0, score 0.97)
- [AGENTS.md — L11](agents-md.md#^ref-bb90903a-11-0) (line 11, col 0, score 0.96)
- [AGENTS.md — L13](agents-md.md#^ref-bb90903a-13-0) (line 13, col 0, score 0.96)
- [Migrate to Provider-Tenant Architecture — L632](migrate-to-provider-tenant-architecture.md#^ref-54382370-632-0) (line 632, col 0, score 0.96)
- [api-gateway-versioning — L316](api-gateway-versioning.md#^ref-0580dcd3-316-0) (line 316, col 0, score 0.96)
- [api-gateway-versioning — L300](api-gateway-versioning.md#^ref-0580dcd3-300-0) (line 300, col 0, score 0.96)
- [field-dynamics-math-blocks — L573](field-dynamics-math-blocks.md#^ref-7cfc230d-573-0) (line 573, col 0, score 0.96)
- [heartbeat-fragment-demo — L315](heartbeat-fragment-demo.md#^ref-dd00677a-315-0) (line 315, col 0, score 0.96)
- [ripple-propagation-demo — L370](ripple-propagation-demo.md#^ref-8430617b-370-0) (line 370, col 0, score 0.96)
- [Chroma Toolkit Consolidation Plan — L465](chroma-toolkit-consolidation-plan.md#^ref-5020e892-465-0) (line 465, col 0, score 0.96)
- [AI-First-OS-Model-Context-Protocol — L71](ai-first-os-model-context-protocol.md#^ref-618198f4-71-0) (line 71, col 0, score 0.96)
- [AI-First-OS-Model-Context-Protocol — L173](ai-first-os-model-context-protocol.md#^ref-618198f4-173-0) (line 173, col 0, score 0.96)
- [Unique Info Dump Index — L416](unique-info-dump-index.md#^ref-30ec3ba6-416-0) (line 416, col 0, score 0.96)
- [AGENTS.md — L9](agents-md.md#^ref-bb90903a-9-0) (line 9, col 0, score 0.95)
- [AGENTS.md — L47](agents-md.md#^ref-bb90903a-47-0) (line 47, col 0, score 0.95)
- [AI-First-OS-Model-Context-Protocol — L237](ai-first-os-model-context-protocol.md#^ref-618198f4-237-0) (line 237, col 0, score 0.94)
- [aionian-circuit-math — L218](aionian-circuit-math.md#^ref-f2d83a77-218-0) (line 218, col 0, score 0.94)
- [AGENTS.md — L186](agents-md.md#^ref-bb90903a-186-0) (line 186, col 0, score 0.94)
- [AGENTS.md — L185](agents-md.md#^ref-bb90903a-185-0) (line 185, col 0, score 0.94)
- [AI-First-OS-Model-Context-Protocol — L197](ai-first-os-model-context-protocol.md#^ref-618198f4-197-0) (line 197, col 0, score 0.94)
- [aionian-circuit-math — L229](aionian-circuit-math.md#^ref-f2d83a77-229-0) (line 229, col 0, score 0.94)
- [aionian-circuit-math — L220](aionian-circuit-math.md#^ref-f2d83a77-220-0) (line 220, col 0, score 0.94)
<!-- GENERATED-SECTIONS:DO-NOT-EDIT-ABOVE -->
