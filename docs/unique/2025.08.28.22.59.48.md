---
task-id: TASK-20250828-225801-7f3a
title: Normalize task frontmatter and add sweeper ingestion rules
state: New
txn: 2025-08-28T22:58:01Z-7f3a
owner: err
priority: p3
size: m
epic: EPC-000
depends_on: []
labels: ["board:auto","lang:ts","ops:sweeper"]
due:
links: []
artifacts: []
rationale: "Unify task frontmatter so LLMs and humans produce the same shape; add sweeper rules to hard-fail malformed tasks and auto-rename files to match task-id."
proposed_transitions: ["New->Accepted","Accepted->Breakdown"]
hashtags:
  - task/TASK-20250828-225801-7f3a
  - board/kanban
  - state/New
  - owner/err
  - priority/p3
  - epic/EPC-000
---

## Context
- Robots and humans are producing inconsistent task metadata.
- The board stays clean if ingestion is ruthless and predictable.

## Definition of Done
- [ ] JSON Schema lives at `@shared/ts/dist/tasks/schema.ts`
- [ ] CLI `validate-task` returns non-zero on invalid frontmatter
- [ ] Sweeper renames files to `<task-id>.md` if needed
- [ ] Sweeper rejects unknown states (downgrade to New with `needs:state-confirm`)
- [ ] CI job validates all tasks in PRs

## Plan (draft)
1) Implement schema + validator CLI.
2) Add sweeper step to ingest pipeline.
3) Wire CI to run validator on changed `docs/agile/tasks/*.md`.

#task/TASK-20250828-225801-7f3a
#board/kanban
#state/New
#owner/err
#priority/p3
#epic/EPC-000
