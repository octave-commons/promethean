---
uuid: "pantheon-ui-003"
title: "Implement Pantheon Web UI (Documentation to Reality)"
slug: "2025.10.26.pantheon-web-ui-implementation"
status: "incoming"
priority: "P1"
labels: ["pantheon", "ui", "web", "implementation", "critical"]
created_at: "2025-10-26T20:10:00.000Z"
estimates:
  complexity: "high"
  scale: "epic"
  time_to_completion: "2-3 weeks"
---

## Context

The Pantheon Web UI currently exists only as documentation. Need to implement actual web server, API endpoints, and LitElement components to create a functional agent management dashboard.

## Current State

**DOCUMENTATION ONLY:**
- `docs/packages/pantheon/pantheon-ui.md` - Comprehensive design specs
- No actual web server implementation
- No API endpoints
- No real LitElement components
- No backend integration

## Implementation Required

### 1. Web Server Infrastructure
- Express/Fastify HTTP server
- WebSocket support for real-time updates
- Static file serving for UI components
- API middleware (auth, CORS, rate limiting)

### 2. REST API Endpoints
```
GET    /api/agents              - List all agents
POST   /api/agents              - Create new agent
GET    /api/agents/:id          - Get agent details
PUT    /api/agents/:id          - Update agent
DELETE /api/agents/:id          - Delete agent
POST   /api/agents/:id/tick     - Tick agent
POST   /api/agents/:id/start    - Start agent loop
POST   /api/agents/:id/stop     - Stop agent loop

GET    /api/context             - List contexts
POST   /api/context/compile     - Compile context
GET    /api/tools               - List tools
POST   /api/tools/:name/execute - Execute tool

WebSocket /api/realtime         - Real-time updates
```

### 3. LitElement Components
- Agent List component with sorting/filtering
- Agent Card component for grid view
- Metrics Dashboard component
- Task Manager component
- Event Viewer component

### 4. Files to Create
- `packages/pantheon/src/web/server.ts` - Web server
- `packages/pantheon/src/web/api/` - API routes
- `packages/pantheon/src/web/components/` - LitElement components
- `packages/pantheon/src/web/static/` - Static assets
- `packages/pantheon/src/web/websocket.ts` - WebSocket handler

## Acceptance Criteria

- [ ] Web server starts on configurable port
- [ ] All REST API endpoints implemented and functional
- [ ] WebSocket real-time updates working
- [ ] LitElement components render correctly
- [ ] Agent management through web interface
- [ ] Real-time agent status updates
- [ ] Authentication integration with web UI
- [ ] Responsive design for mobile/desktop
- [ ] Error handling and user feedback

## Technical Implementation

### Web Server Structure
```typescript
class PantheonWebServer {
  private app = express();
  private server = createServer(this.app);
  private io = new SocketIOServer(this.server);
  
  constructor(private pantheonSystem: PantheonSystem) {
    this.setupMiddleware();
    this.setupRoutes();
    this.setupWebSocket();
  }
  
  start(port: number = 3000) {
    this.server.listen(port, () => {
      console.log(`Pantheon server running on port ${port}`);
    });
  }
}
```

### API Route Example
```typescript
app.get('/api/agents', async (req, res) => {
  try {
    const agents = await pantheonSystem.getAgents(req.user.id);
    res.json(agents);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});
```

### LitElement Component
```typescript
@customElement('agent-list')
class AgentList extends LitElement {
  @property({ type: Array })
  agents: Agent[] = [];
  
  private apiClient = new PantheonApiClient();
  
  async connectedCallback() {
    super.connectedCallback();
    await this.loadAgents();
    this.setupRealtimeUpdates();
  }
  
  render() {
    return html`
      <div class="agent-list">
        ${this.agents.map(agent => 
          html`<agent-card .agent=${agent}></agent-card>`
        )}
      </div>
    `;
  }
}
```

## Risk Level

**HIGH** - Major implementation gap, but no security risk

## Dependencies

- Depends on: "Critical: Implement Pantheon Authentication System"
- Depends on: "Fix Pantheon Global State Security Vulnerability"

## Integration Points

- CLI and Web UI must use same PantheonSystem API
- Authentication system shared between CLI and web
- Real-time updates via WebSocket
- Consistent error handling across interfaces
