---
title: "Research & Analyze Existing Agent Instruction File Patterns"
status: "incoming" 
priority: "P0"
uuid: "research-agent-patterns-2025-10-14"
tags: ["research", "analysis", "agent", "documentation", "epic:agent-instruction-generator"]
epic: "epic-agent-instruction-generator-2025-10-14"
created: "2025-10-14T00:00:00Z"
updated: "2025-10-14T00:00:00Z"
---

# Research & Analyze Existing Agent Instruction File Patterns

## üéØ Objective

Conduct comprehensive analysis of existing agent instruction files (AGENTS.md, CLAUDE.md, CRUSH.md) to identify patterns, structure, and content requirements for the automated generator.

## üìã Acceptance Criteria

### Analysis Requirements
- [ ] **Content Structure Analysis**: Document the common sections, formatting patterns, and information hierarchy across all instruction files
- [ ] **Variable Identification**: Identify all dynamic content that should be generated from data sources (environment variables, kanban data, file index)
- [ ] **Agent-Specific Patterns**: Document unique requirements for different agent types (Claude, Serena, general agents)
- [ ] **Cross-Platform Considerations**: Identify platform-specific content and requirements
- [ ] **Integration Points**: Map existing integrations with kanban system, build tools, and project configuration

### Documentation Deliverables
- [ ] **Pattern Analysis Report**: Comprehensive document detailing all identified patterns and structures
- [ ] **Variable Mapping Matrix**: Clear mapping of dynamic content to data sources
- [ ] **Template Specification**: Detailed specification for template engine requirements
- [ ] **Cross-Platform Requirements**: Document platform-specific variations and requirements
- [ ] **Integration Architecture**: High-level architecture showing data flow and integration points

## üîç Research Scope

### Primary Sources
1. **AGENTS.md** - General agent framework documentation
2. **CLAUDE.md** - Claude Code specific instructions and MCP integration
3. **CRUSH.md** - Development environment quick reference
4. **Environment Configuration** - `.env.example`, `promethean.kanban.json`
5. **Build System** - `bb.edn`, `package.json` files
6. **Kanban System** - `@promethean/kanban` package documentation and usage

### Analysis Areas

#### Content Structure Analysis
```markdown
## Expected Sections to Identify:
- Overview/Introduction patterns
- Environment setup instructions
- Tool and capability descriptions
- Workflow and process documentation
- Command references and examples
- Integration guides
- Troubleshooting sections
- Architecture documentation
```

#### Dynamic Content Identification
```clojure
## Environment Variables to Map:
- AGENT_NAME, ENVIRONMENT, DEBUG_LEVEL
- Build and runtime configuration
- Service endpoints and URLs
- Feature flags and capabilities

## Kanban Data Sources:
- Current board state and statistics
- Active tasks and priorities
- Workflow process documentation
- Command references and examples

## File Index Data:
- Project structure and organization
- Available tools and packages
- API surfaces and capabilities
- Documentation locations
```

#### Agent-Specific Requirements
- **Claude**: MCP integration, tool catalogs, GitHub automation
- **Serena**: Code analysis tools, symbol manipulation, project management
- **General Agents**: Framework overview, basic capabilities, common workflows

## üõ†Ô∏è Research Methodology

### Phase 1: Content Analysis (Days 1-2)
1. **Systematic Review**: Read and analyze each instruction file line by line
2. **Pattern Extraction**: Identify recurring patterns, sections, and formatting
3. **Variable Detection**: Mark all content that appears dynamic or configurable
4. **Cross-Reference Analysis**: Compare patterns across different files

### Phase 2: Integration Analysis (Days 3-4)
1. **Data Source Mapping**: Trace dynamic content to actual data sources
2. **System Integration**: Document how current files integrate with existing systems
3. **Dependency Analysis**: Identify dependencies on other project components
4. **Platform Variations**: Note platform-specific content and requirements

### Phase 3: Specification Development (Days 5-7)
1. **Template Requirements**: Define template engine specifications based on patterns
2. **Variable Schema**: Create comprehensive variable mapping and data schemas
3. **Architecture Design**: High-level design for generator system
4. **Implementation Roadmap**: Detailed breakdown for subsequent development tasks

## üìä Expected Deliverables

### 1. Pattern Analysis Report
```markdown
# Agent Instruction Pattern Analysis

## Executive Summary
[High-level overview of findings and recommendations]

## Content Structure Patterns
[Detailed analysis of common sections and formatting]

## Dynamic Content Mapping
[Comprehensive mapping of variables to data sources]

## Agent-Specific Requirements
[Unique requirements for different agent types]

## Cross-Platform Considerations
[Platform-specific variations and requirements]

## Integration Architecture
[Data flow and system integration design]

## Recommendations
[Actionable recommendations for generator implementation]
```

### 2. Variable Mapping Matrix
| Variable | Source | Type | Platform | Notes |
|----------|--------|------|----------|-------|
| AGENT_NAME | Environment | String | All | Agent identifier |
| KANBAN_COMMANDS | Kanban API | Object | All | Command reference |
| PROJECT_STRUCTURE | File Index | Object | All | Directory layout |
| ... | ... | ... | ... | ... |

### 3. Template Specification
```clojure
;; Template Engine Requirements
{:sections [:overview :environment :tools :workflow :commands]
 :variables {:env-vars #{:agent-name :environment :debug-level}
             :kanban-data #{:board-state :active-tasks :commands}
             :file-index #{:structure :tools :packages}}
 :conditionals {:platform-specific true
                :agent-type-specific true
                :feature-flag-based true}}
```

## üéØ Success Metrics

- **Completeness**: All instruction file patterns identified and documented
- **Accuracy**: Variable mappings correctly trace to actual data sources
- **Clarity**: Specifications are clear enough for implementation team
- **Actionability**: Research directly enables subsequent development tasks
- **Quality**: Deliverables meet documentation and review standards

## ‚ö†Ô∏è Risks & Mitigations

### Research Risks
- **Incomplete Analysis**: Mitigate with systematic review process and peer validation
- **Ambiguous Requirements**: Resolve through clarification with stakeholders
- **Changing Requirements**: Maintain flexibility in specifications

### Quality Risks
- **Inconsistent Documentation**: Use standardized templates and review process
- **Missing Edge Cases**: Include comprehensive testing scenarios in analysis

## üìÖ Timeline

- **Days 1-2**: Content structure analysis and pattern extraction
- **Days 3-4**: Integration analysis and data source mapping  
- **Days 5-7**: Specification development and deliverable creation
- **Day 8**: Review, refinement, and handoff to implementation team

## üîó Dependencies

- Access to complete project documentation and configuration files
- Understanding of existing kanban system and file indexer capabilities
- Collaboration with agent system stakeholders for requirements clarification
- Review and approval from architecture team before proceeding to implementation

---

This research task provides the foundational understanding needed to design and implement the agent instruction generator. The comprehensive analysis ensures that the automated system will produce high-quality, context-aware instruction files that meet all agent requirements while maintaining compatibility with existing workflows.