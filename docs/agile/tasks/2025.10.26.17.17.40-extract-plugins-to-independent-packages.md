---
title: Extract Plugins to Independent Packages
description: Split the opencode-client package into three independent, focused packages to improve maintainability, reduce coupling, and enable better testing and dependency management. This will improve modularity and make individual features easier to test, upgrade, and debug.
priority: P0
labels: plugin,modularity,maintainability,architecture,refactoring
status: incoming
uuid: $(uuidgen)
created_at: $(date -Iseconds)
---

## Overview

The opencode-client package currently contains three distinct plugins that should be extracted to their own packages:

1. **opencode-interface-plugin** - Provides OpenCode functionality as tools
2. **realtime-capture-plugin** - Provides real-time indexing capabilities  
3. **event-hooks-plugin** - Provides hook management functionality

## Benefits

- **Improved maintainability** - each plugin can be updated independently
- **Reduced risk of cascading failures**
- **Easier testing** - each plugin can be tested in isolation
- **Better modularity** - components now follow separation of concerns
- **Enhanced developer experience** - focused packages with clear boundaries
- **Faster iteration** - individual plugins can be developed and deployed independently

## Implementation Plan

### Phase 1: Analysis & Design âœ…
- [x] Analyze current plugin structure and dependencies
- [x] Identify shared dependencies and utilities
- [x] Design package structure for extracted plugins

### Phase 2: Package Creation
- [ ] Create @promethean-os/opencode-interface-plugin package
- [ ] Create @promethean-os/realtime-capture-plugin package  
- [ ] Create @promethean-os/event-hooks-plugin package

### Phase 3: Integration
- [ ] Update opencode-client to use extracted plugin packages
- [ ] Update workspace configuration and dependencies
- [ ] Run tests and validate extraction

### Phase 4: Documentation
- [ ] Update documentation to reflect new package structure
- [ ] Create migration guide for existing users

## Acceptance Criteria

- [ ] All three plugins are successfully extracted to independent packages
- [ ] opencode-client builds and functions correctly with new plugin packages
- [ ] All existing tests pass
- [ ] Documentation is updated
- [ ] No breaking changes for existing users (backward compatibility maintained)

## Dependencies

- Analysis of current plugin dependencies completed
- Package structure designed
- Implementation plan approved

## Notes

This extraction follows the principle of separation of concerns and improves overall system modularity. Each plugin will have its own version, allowing for independent development and deployment cycles.
