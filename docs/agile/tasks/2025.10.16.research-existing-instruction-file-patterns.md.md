---
uuid: "task-research-instruction-patterns-2025-10-16"
title: "Research Existing Instruction File Patterns"
slug: "2025.10.16.research-existing-instruction-file-patterns.md"
status: "done"
priority: "P0"
labels: ["research", "documentation", "analysis", "foundation"]
created_at: "2025-10-16T00:00:00Z"
estimates:
  complexity: ""
  scale: ""
  time_to_completion: ""
lastCommitSha: "deec21fe4553bb49020b6aa2bdfee1b89110f15d"
commitHistory: 
  - sha: "deec21fe4553bb49020b6aa2bdfee1b89110f15d"
    timestamp: "2025-10-19T16:27:40.275Z"
    action: "Bulk commit tracking initialization"
---

# Task: Research Existing Instruction File Patterns

## üéØ Objective

Analyze current AGENTS.md, CLAUDE.md, CRUSH.md files to identify patterns, common sections, and variable content that should be dynamically generated.

## üìã Description

This task involves a comprehensive analysis of the existing agent instruction files to understand their structure, identify common patterns, and determine which content should be static versus dynamically generated. The analysis will inform the template system design and variable mapping.

## ‚úÖ Acceptance Criteria

- [x] Document all existing instruction file patterns and structures
- [x] Identify static vs dynamic content sections across all files
- [x] Create variable mapping specification for dynamic content
- [x] Define template structure requirements based on analysis
- [x] Produce analysis document with recommendations for template design

## üîß Technical Requirements

### Analysis Scope

- **AGENTS.md**: General agent framework documentation structure
- **CLAUDE.md**: Claude Code specific instruction patterns
- **CRUSH.md**: Development environment quick reference format
- **Other agent files**: Any additional instruction files in the project

### Pattern Identification

- Common sections and headers across files
- Repeated content blocks and structures
- Variable content (project names, paths, configurations)
- Conditional content based on environment or agent type
- Cross-references and dependencies between sections

### Output Requirements

- Comprehensive pattern analysis document
- Variable mapping specification
- Template structure recommendations
- Content categorization (static/dynamic/conditional)

## üèóÔ∏è Implementation Approach

1. **File Collection**: Gather all existing instruction files
2. **Structure Analysis**: Document the organization and sections of each file
3. **Pattern Recognition**: Identify common patterns and repeated elements
4. **Variable Identification**: Mark content that should be dynamically generated
5. **Template Design**: Create specifications for template structure
6. **Documentation**: Produce comprehensive analysis report

## üìä Deliverables

1. **Pattern Analysis Document** (`instruction-patterns-analysis.md`)

   - File structure breakdown
   - Common patterns catalog
   - Variable content mapping

2. **Template Specification** (`template-structure-spec.md`)

   - Template syntax requirements
   - Variable substitution rules
   - Conditional rendering needs

3. **Implementation Recommendations** (`template-design-recommendations.md`)
   - Template system design guidance
   - Variable naming conventions
   - Content organization strategy

## üîó Dependencies

- None (foundational research task)

## ‚ö†Ô∏è Risks & Mitigations

- **Incomplete Pattern Discovery**: Mitigate by thorough analysis and peer review
- **Over-engineering**: Focus on essential patterns first, expand later
- **Template Complexity**: Keep template design simple and maintainable

## üìà Success Metrics

- All existing instruction file patterns documented
- Clear distinction between static and dynamic content
- Actionable template design specifications
- Foundation for template system implementation

## üìù Work Summary

### Completed Analysis

**Files Analyzed:**

- `AGENTS.md` - Navigation hub with hierarchical structure (147 lines)
- `CLAUDE.md` - Comprehensive development guide (432 lines)
- `CRUSH.md` - Quick reference format (33 lines)
- Agent configuration files in `.claude/agents/` and `.opencode/agent/`
- Various specialized agent instruction files

**Key Patterns Identified:**

- Hierarchical organization with emoji-section headers
- YAML frontmatter + markdown content structure for agents
- Cross-reference system using `[[wikilink]]` syntax
- Mixed content types (prose, code blocks, command examples)
- Environment-specific and role-based conditional content

**Static vs Dynamic Content Categorized:**

- **Static**: Section headers, process frameworks, style guidelines
- **Dynamic**: File paths, version numbers, tool names, agent configurations
- **Conditional**: Environment-specific instructions, feature-dependent content

### Deliverables Created

1. **Pattern Analysis Document** (`docs/agile/deliverables/instruction-patterns-analysis.md`)

   - Comprehensive file structure analysis
   - Common patterns catalog with examples
   - Variable content mapping with naming conventions
   - Content categorization framework

2. **Template Specification** (`docs/agile/deliverables/template-structure-spec.md`)

   - Handlebars.js syntax specification
   - Variable substitution rules and naming conventions
   - Conditional rendering patterns
   - Template organization and validation rules

3. **Implementation Recommendations** (`docs/agile/deliverables/template-design-recommendations.md`)
   - System architecture recommendations
   - Phased implementation strategy (6-week plan)
   - Performance optimization strategies
   - Testing and deployment guidelines

### Impact on Template System Design

This analysis provides the foundation for:

- **Template Engine Selection**: Handlebars.js with custom helpers
- **Variable Taxonomy**: Comprehensive naming convention system
- **Modular Architecture**: Base templates, partials, and data sources
- **Validation Framework**: Syntax, reference integrity, and type checking
- **Performance Strategy**: Caching, lazy loading, and incremental generation

The research identified 50+ variable patterns and established a clear separation between static structural elements and dynamic project-specific content, enabling a maintainable and scalable template generation system.

---

**Epic**: Build Cross-Platform Clojure Agent Instruction Generator  
**Phase**: Phase 1: Foundation & Design  
**Story Points**: 3
